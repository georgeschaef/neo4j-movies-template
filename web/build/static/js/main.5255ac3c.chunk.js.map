{"version":3,"sources":["config/settings.js","assets/logo.png","redux/actions/NotificationActionTypes.js","redux/actions/NotificationActions.js","redux/sagas/errorFlow.js","UserSession.js","api/axios.js","api/AuthApi.js","redux/actions/AuthActions.js","redux/actions/AuthActionTypes.js","redux/actions/ProfileActions.js","redux/actions/ProfileActionTypes.js","redux/sagas/authFlow.js","api/ProfileApi.js","api/MoviesApi.js","redux/sagas/profileFlow.js","redux/sagas/signupFlow.js","redux/actions/MovieActions.js","redux/actions/MovieActionTypes.js","redux/sagas/movieFlow.js","api/PersonApi.js","redux/actions/PersonActions.js","redux/actions/PersonActionTypes.js","redux/sagas/personFlow.js","redux/sagas/index.js","redux/reducers/notifications.js","utils/ErrorUtils.js","redux/reducers/auth.js","redux/reducers/signup.js","redux/reducers/profile.js","redux/reducers/genres.js","redux/reducers/movies.js","redux/reducers/person.js","redux/reducers/index.js","components/Header.jsx","components/Breadcrumbs.jsx","components/common/Notification.jsx","components/common/NotificationContainer.jsx","pages/App.jsx","components/Loading.jsx","components/Carousel.jsx","pages/Home.jsx","components/UserRating.jsx","pages/Movie.jsx","pages/Person.jsx","utils/ValidationUtils.js","components/validation/ValidatedComponent.jsx","components/validation/InputValidator.jsx","pages/Login.jsx","pages/Signup.jsx","pages/SignupStatus.jsx","pages/AuthenticatedPage.jsx","pages/Profile.jsx","routes/Routes.jsx","index.js"],"names":["module","exports","apiBaseURL","process","NotificationActionTypes","NotificationType","error","success","information","warning","secondary","create","type","message","notification","id","_","uniqueId","createError","createSuccess","dismiss","watchErrors","getState","takeEvery","logger","action","errorAction","createErrorNotification","put","err","status","NotificationActions","statusText","errMessages","data","prop","msg","isArray","join","push","ex","console","errMessage","length","responseText","UserSession","token","window","localStorage","setItem","removeItem","getItem","instance","axios","defaults","headers","post","patch","interceptors","request","use","authToken","getToken","Authorization","JSON","parse","stringify","humps","decamelizeKeys","response","camelizeKeys","settings","AuthApi","username","password","profile","login","loginSuccess","loginFailure","logout","getProfile","getProfileSuccess","payload","getProfileFailure","createProfile","createProfileSuccess","createProfileFailure","createProfileInit","getProfileRatings","getProfileRatingsSuccess","getProfileRatingsFailure","profileRateMovie","rating","profileRateMovieSuccess","profileRateMovieFailure","profileDeleteMovieRating","profileDeleteMovieRatingSuccess","profileDeleteMovieRatingFailure","getProfileRecommendations","getProfileRecommendationsSuccess","getProfileRecommendationsFailure","authFlow","all","call","setToken","Actions","ProfileApi","get","MoviesApi","genreNames","getGenres","then","genres","movieGenres","filter","g","indexOf","name","Promise","map","genre","genreResults","result","forEach","movies","i","delete","profileFlow","profileDeleteRating","rateMovie","deleteRating","signupFlow","register","AuthActions","clearMovie","getGenresSuccess","getGenresFailure","getMoviesByGenres","names","getMoviesByGenresSuccess","getMoviesByGenresFailure","getFeaturedMovies","getFeaturedMoviesSuccess","getFeaturedMoviesFailure","getMovie","getMovieSuccess","getMovieFailure","rateMovieSuccess","rateMovieFailure","deleteMovieRating","deleteMovieRatingSuccess","deleteMovieRatingFailure","movieFlow","getMoviesByGenre","PersonApi","clearPerson","getPerson","getPersonSuccess","getPersonFailure","getRelated","getRelatedSuccess","getRelatedFailure","root","fork","errorFlow","personFlow","notifications","state","without","ErrorUtils","apiError","auth","getInitialState","isFetching","errors","getApiErrors","isSaving","savedProfile","ratedMovies","recommendedMovies","initialState","items","isFetchingFeatured","isFetchingByGenre","featured","byGenre","detail","getIsFetching","isFetchingRelated","related","person","createRootReducer","history","combineReducers","router","connectRouter","signup","Header","props","this","isLoggedIn","className","to","src","logoImg","alt","href","target","rel","style","getAvatarStyle","title","onClick","bind","background","dispatch","React","Component","displayName","connect","Breadcrumbs","movie","Notification","timeout","dismissNotification","setTimeout","clearTimeout","classes","data-alert","defaultProps","NotificationContainer","index","key","bindActionCreators","App","children","Loading","Carousel","startIndex","visibleCount","onWidthChange","matchMedia","mq","addListener","matches","setState","ref","onRightClick","onLeftClick","Children","c","width","toFixed","display","e","preventDefault","count","Home","renderFeatured","renderByGenre","compact","f","posterImage","moviesByGenre","isEmpty","m","MovieActions","UserRating","stars","movieId","savedRating","renderStar","onDeleteRatingClick","onRateClick","onSubmitRating","onDeleteRating","Movie","match","params","prevProps","tagline","myRating","released","duration","renderGenre","renderPeople","directors","renderCast","actors","renderRelatedMovies","keywords","k","a","role","people","p","Person","nextProps","renderRelatedPeople","actedIn","directed","produced","wrote","sectionTitle","shown","PersonActions","ValidationUtils","email","test","url","ValidatorContext","createContext","registerValidator","unregisterValidator","ValidatedComponent","ComposedComponent","validators","isComponentValid","isValid","getValidationMessages","onRegisterValidator","onUnregisterValidator","validator","owner","remove","v","validate","results","getValidationMessage","newProps","getValidationFormProps","Provider","value","getFieldValidatorContext","InputValidator","validation","onBlurValidate","getRequiredErrorMsg","setValidationState","shouldValidateOnValueChange","getInput","cloneDeep","fieldName","required","onValidated","customValidation","input","checkEmail","checkUrl","min","max","Number","onBlurValidators","validatorCmp","shouldValidateOnBlur","child","cloneElement","onBlur","getErrorFromProps","inputState","Array","toString","fullWidth","contextTypes","PropTypes","func","Consumer","forwardRef","contextProps","Login","canSubmit","popup","changeUser","changePassword","redirectIfAuthed","redirectTo","noValidate","placeholder","onChange","disabled","event","withRouter","Signup","confirmPassword","createUser","validateConfirmPassword","validatedComponent","SignupStatus","context","replace","object","isRequired","AuthenticatedPage","PageComponent","redirectOnLogout","location","query","pathname","search","Profile","array","ProfileActions","Routes","exact","path","component","reduxLoggerMiddleware","createLogger","sagaMiddleware","createSagaMiddleware","createBrowserHistory","store","createStore","applyMiddleware","routerMiddleware","thunkMiddleware","run","sagas","ReactDOM","render","document","getElementById"],"mappings":"2FAIAA,EAAOC,QAAU,CACfC,WAAYC,iC,iBCLdH,EAAOC,QAAU,0xM,y8FCAJG,EACU,sBADVA,EAEW,uBAGXC,EAAmB,CAC9BC,MAAO,cACPC,QAAS,gBACTC,YAAa,OACbC,QAAS,UACTC,UAAW,aCPN,SAASC,EAAOC,EAAMC,GAC3B,MAAO,CACLD,KAAMR,EACNU,aAAc,CACZC,GAAIC,IAAEC,WACNJ,UACAD,SAKC,SAASM,EAAYL,GAC1B,MAAO,CACLD,KAAMR,EACNU,aAAc,CACZC,GAAIC,IAAEC,WACNJ,UACAD,KAAMP,EAAiBC,QAKtB,SAASa,EAAcN,GAC5B,MAAO,CACLD,KAAMR,EACNU,aAAc,CACZC,GAAIC,IAAEC,WACNJ,UACAD,KAAMP,EAAiBE,UAKtB,SAASa,EAAQN,GACtB,MAAO,CACLF,KAAMR,EACNU,gB,eCnCqBO,GAAV,SAAUA,EAAYC,GAAtB,iEACb,OADa,SACPC,YAAU,IAAD,UAAM,SAAUC,EAAOC,GAAjB,2EAChBA,EAAOnB,MADS,gBAGjB,OADIoB,EAAcC,EAAwBF,EAAOnB,OAFhC,SAGXsB,YAAIF,GAHO,oCAAUF,OADlB,uCASf,SAASG,EAAwBE,GAC/B,GAAkB,MAAfA,EAAIC,OACL,OAAOC,EAAgCF,EAAIG,YAAc,yBAG3D,GAAmB,MAAfH,EAAIC,OAAgB,CACtB,IAAIG,EAAc,GAClB,GAAIJ,EAAIK,KACN,IACE,IAAK,IAAIC,KAAQN,EAAIK,KAAM,CACzB,IAAIE,EAAMP,EAAIK,KAAKC,GACfnB,IAAEqB,QAAQD,KACZA,EAAMA,EAAIE,KAAK,MAGjBL,EAAYM,KAAZ,UAAoBJ,EAApB,aAA6BC,KAE/B,MAAOI,GACPC,QAAQnC,MAAMkC,GAIlB,IAAIE,EAAa,GAUjB,OAREA,EADyB,IAAvBT,EAAYU,OACDV,EAAY,GAGZA,EAAYK,KAAK,QAKzBP,EAFOF,EAAIhB,SAAW6B,IAAeb,EAAIe,aAAgB,UAAYf,EAAIe,aAAgB,8B,qEC7BrFC,E,sGAbGC,GACVA,EACFC,OAAOC,aAAaC,QAAQ,QAASH,GAErCC,OAAOC,aAAaE,WAAW,W,iCAKjC,OAAOH,OAAOC,aAAaG,QAAQ,a,KCNjCC,EAAWC,IAAM1C,SACvByC,EAASE,SAASC,QAAQC,KAAK,gBAAkB,mBACjDJ,EAASE,SAASC,QAAQE,MAAM,gBAAkB,mBAElDL,EAASM,aAAaC,QAAQC,KAAI,SAAUD,GAC1C,IAAME,EAAYhB,EAAYiB,WAO9B,GANID,GACEF,EAAQJ,UAAYI,EAAQJ,QAAQQ,gBACtCJ,EAAQJ,QAAR,8BAA4CM,IAI5CF,EAAQzB,KAAM,CAChB,IAAMA,EAA+B,kBAAjByB,EAAQzB,KAAoB8B,KAAKC,MAAMN,EAAQzB,MAAQyB,EAAQzB,KACnFyB,EAAQzB,KAAO8B,KAAKE,UAAUC,IAAMC,eAAelC,IAErD,OAAOyB,KAGTP,EAASM,aAAaW,SAAST,KAAI,SAAUS,GAC3C,GAAIA,EAASnC,KACX,OAAOiC,IAAMG,aAAaD,EAASnC,SAIxBkB,QC1BRlD,EAAcqE,IAAdrE,WAEcsE,E,mGACNC,EAAUC,GACrB,OAAOrB,EAAMG,KAAN,UAActD,EAAd,UACL,CACEuE,WAAUC,e,+BAKAC,GACd,OAAOtB,EAAMG,KAAN,UAActD,EAAd,aAAqCyE,O,KCbzC,SAASC,EAAMH,EAAUC,GAC9B,MAAO,CAAC9D,KCHW,QDGQ6D,WAAUC,YAGhC,SAASG,EAAa/B,GAC3B,MAAO,CAAClC,KCNmB,gBDMQkC,SAG9B,SAASgC,EAAaxE,GAC3B,MAAO,CAACM,KCTmB,gBDSQN,SAG9B,SAASyE,IACd,MAAO,CAACnE,KCZY,UCDf,SAASoE,IACd,MAAO,CAACpE,KCHiB,eDMpB,SAASqE,EAAkBC,GAChC,MAAO,CAACtE,KCNyB,sBDMQsE,WAGpC,SAASC,GAAkB7E,GAChC,MAAO,CAACM,KCTyB,sBDSQN,SAGpC,SAAS8E,GAAcF,GAC5B,MAAO,CAACtE,KCXoB,iBDWQsE,WAG/B,SAASG,GAAqBH,GACnC,MAAO,CAACtE,KCd4B,yBDcQsE,WAGvC,SAASI,GAAqBhF,GACnC,MAAO,CAACM,KCjB4B,yBDiBQN,SAGvC,SAASiF,KACd,MAAO,CAAC3E,KCpByB,uBDuB5B,SAAS4E,KACd,MAAO,CAAC5E,KCtByB,uBDyB5B,SAAS6E,GAAyBP,GACvC,MAAO,CAACtE,KCzBiC,8BDyBQsE,WAG5C,SAASQ,KACd,MAAO,CAAC9E,KC5BiC,+BD+BpC,SAAS+E,GAAiB5E,EAAI6E,GACnC,MAAO,CAAChF,KC9BwB,qBD8BQG,KAAI6E,UAGvC,SAASC,KACd,MAAO,CAACjF,KCjCgC,8BDoCnC,SAASkF,KACd,MAAO,CAAClF,KCpCgC,8BDuCnC,SAASmF,GAAyBhF,GACvC,MAAO,CAACH,KCtCiC,8BDsCQG,MAG5C,SAASiF,KACd,MAAO,CAACpF,KCzCyC,uCD4C5C,SAASqF,KACd,MAAO,CAACrF,KC5CyC,uCD+C5C,SAASsF,GAA0BnF,GACxC,MAAO,CAACH,KC9CiC,8BD8CQG,MAG5C,SAASoF,GAAiCjB,GAC/C,MAAO,CAACtE,KCjDyC,sCDiDQsE,WAGpD,SAASkB,KACd,MAAO,CAACxF,KCpDyC,uC,gBChB1ByF,I,YAOfzB,I,YAcAG,IArBK,SAAUsB,KAAV,iEACb,OADa,SACPC,YAAI,CACR/E,YHTiB,QGSMqD,IACvBrD,YHPkB,SGOMwD,MAHb,wCAOf,SAAUH,GAAMnD,GAAhB,2EAGqB,OAFdgD,EAAsBhD,EAAtBgD,SAAUC,EAAYjD,EAAZiD,SADjB,kBAG2B6B,YAAK/B,EAAQI,MAAOH,EAAUC,GAHzD,OAMI,OAHML,EAHV,OAIIxB,EAAY2D,SAASnC,EAASvB,OAJlC,SAMUlB,YAAI6E,EAAqBpC,EAASvB,QAN5C,OAOI,OAPJ,UAOUlB,YFlBD,CAAChB,KCHiB,gBCc3B,gCAUI,OAVJ,oCAUUgB,YAAI6E,EAAA,OAVd,uDAcA,SAAU1B,KAAV,iEACE,OADF,SACQlC,EAAY2D,SAAS,MAD7B,wC,ICzBOtG,GAAcqE,IAAdrE,WAEcwG,G,0GAGjB,OAAOrD,EAAMsD,IAAN,UAAazG,GAAb,gB,0CAIP,OAAOmD,EAAMsD,IAAN,UAAazG,GAAb,oB,kDAIP,OAAOmD,EAAMsD,IAAN,UAAazG,GAAb,4B,KCZJA,GAAcqE,IAAdrE,WAEc0G,G,yGAEjB,OAAOvD,EAAMsD,IAAN,UAAazG,GAAb,c,wCAGgB2G,GACvB,OAAOD,EAAUE,YACdC,MAAK,SAAAC,GACJ,IAAIC,EAAcjG,IAAEkG,OAAOF,GAAQ,SAAAG,GACjC,OAAON,EAAWO,QAAQD,EAAEE,OAAS,KAGvC,OAAOC,QAAQhB,IACbW,EAAYM,KAAI,SAAAC,GACZ,OAAOnE,EAAMsD,IAAN,UAAazG,GAAb,yBAAwCsH,EAAMzG,GAA9C,UAGVgG,MAAK,SAAAU,GACJ,IAAIC,EAAS,GAKb,OAJAD,EAAaE,SAAQ,SAACC,EAAQC,GAC5BH,EAAOT,EAAYY,GAAGR,MAAQO,KAGzBF,U,0CAOf,OAAOJ,QAAQhB,IAAI,CACjBjD,EAAMsD,IAAN,UAAazG,GAAb,kBACAmD,EAAMsD,IAAN,UAAazG,GAAb,kBACAmD,EAAMsD,IAAN,UAAazG,GAAb,sB,+BAIYa,GACZ,OAAOsC,EAAMsD,IAAN,UAAazG,GAAb,mBAAkCa,M,gCAG5BA,EAAI6E,GACnB,OAAOvC,EAAMG,KAAN,UAActD,GAAd,mBAAmCa,EAAnC,SAA8C,CAAC6E,a,mCAGpC7E,GAClB,OAAOsC,EAAMyE,OAAN,UAAgB5H,GAAhB,mBAAqCa,EAArC,c,iBC9CcgH,I,YAUf/C,I,YAUAQ,I,YAUAG,I,YAYAqC,I,YAYA9B,IAtDK,SAAU6B,KAAV,iEACb,OADa,SACPzB,YAAI,CACR/E,YJRuB,cIQMyD,IAC7BzD,YJA+B,sBIAMiE,IACrCjE,YJG8B,qBIHMoE,IACpCpE,YJMuC,8BINMyG,IAC7CzG,YJSuC,8BITM2E,MANlC,wCAUf,SAAUlB,KAAV,uEAEqB,OAFrB,kBAE2BuB,YAAKG,GAAW1B,YAF3C,OAGI,OADMX,EAFV,gBAGUzC,YAAI6E,EAA0BpC,IAHxC,8BAMI,OANJ,mCAMUzC,YAAI6E,GAAA,OANd,sDAUA,SAAUjB,KAAV,uEAEqB,OAFrB,kBAE2Be,YAAKG,GAAWlB,mBAF3C,OAGI,OADMnB,EAFV,gBAGUzC,YAAI6E,GAAiCpC,IAH/C,8BAMI,OANJ,mCAMUzC,aAAI,KLOL,CAAChB,KC5BiC,iCIe3C,sDAUA,SAAU+E,GAAiBlE,GAA3B,yEAGqB,OAFdV,EAAcU,EAAdV,GAAI6E,EAAUnE,EAAVmE,OADX,kBAG2BW,YAAKK,GAAUqB,UAAWlH,EAAI6E,GAHzD,OAII,OAJJ,gBAIUhE,YLOD,CAAChB,KCjCgC,+BIsB1C,OAKI,OALJ,SAKUgB,YLVD,CAAChB,KCtByB,wBI2BnC,+BAQI,OARJ,oCAQUgB,aAAI,KLOL,CAAChB,KCpCgC,gCIqB1C,uDAYA,SAAUoH,GAAoBvG,GAA9B,uEAGqB,OAFdV,EAAMU,EAANV,GADP,kBAG2BwF,YAAKK,GAAUsB,aAAcnH,GAHxD,OAII,OAJJ,gBAIUa,YLOD,CAAChB,KCzCyC,wCI8BnD,OAKI,OALJ,SAKUgB,YLtBD,CAAChB,KCtByB,wBIuCnC,+BAQI,OARJ,oCAQUgB,aAAI,KLOL,CAAChB,KC5CyC,yCI6BnD,uDAYA,SAAUsF,KAAV,uEAEqB,OAFrB,kBAE2BK,YAAKG,GAAWR,2BAF3C,OAGI,OADM7B,EAFV,gBAGUzC,YAAI6E,GAAyCpC,IAHvD,8BAMI,OANJ,mCAMUzC,aAAI,KLSL,CAAChB,KCpDyC,yCIqCnD,sD,yBCrDyBuH,I,YAMf/C,IANK,SAAU+C,KAAV,iEACb,OADa,SACP7B,YAAI,CACR/E,YLL0B,iBKKM6D,MAFrB,wCAMf,SAAUA,GAAc3D,GAAxB,yEAIqB,OAHdyD,EAAWzD,EAAXyD,QADP,kBAI2BqB,YAAK/B,EAAQ4D,SAAUlD,GAJlD,OAKI,OADMb,EAJV,gBAKUzC,YAAI6E,GAA6BpC,IAL3C,OAMI,OANJ,SAMUzC,YAAIyG,EAAkBnD,EAAQT,SAAUS,EAAQR,WAN1D,OAOI,OAPJ,UAOU9C,YAAIW,aAAK,mBAPnB,gCAUI,OAVJ,oCAUUX,YAAI6E,GAAA,OAVd,uDCXO,SAAS6B,KACd,MAAO,CAAC1H,KCSwB,sBDN3B,SAASkG,KACd,MAAO,CAAClG,KCP8B,4BDUjC,SAAS2H,GAAiBvB,GAC/B,MAAO,CAACpG,KCV8B,2BDUQoG,UAGzC,SAASwB,GAAiBlI,GAC/B,MAAO,CAACM,KCb8B,2BDaQN,SAGzC,SAASmI,GAAkBC,GAChC,MAAO,CAAC9H,KCfkC,+BDeQ8H,SAG7C,SAASC,GAAyBtE,GACvC,MAAO,CAACzD,KClBkC,+BDkBQyD,YAG7C,SAASuE,GAAyBtI,GACvC,MAAO,CAACM,KCrBkC,+BDqBQN,SAG7C,SAASuI,KACd,MAAO,CAACjI,KCvBiC,+BD0BpC,SAASkI,GAAyBzE,GACvC,MAAO,CAACzD,KC1BiC,8BD0BQyD,YAG5C,SAAS0E,GAAyBzI,GACvC,MAAO,CAACM,KC7BiC,8BD6BQN,SAG5C,SAAS0I,GAASjI,GACvB,MAAO,CAACH,KC9B8B,2BD8BQG,MAGzC,SAASkI,GAAgB5E,GAC9B,MAAO,CAACzD,KCjC8B,2BDiCQyD,YAGzC,SAAS6E,GAAgB5I,GAC9B,MAAO,CAACM,KCpC8B,2BDoCQN,SAGzC,SAAS2H,GAAUlH,EAAI6E,GAC5B,MAAO,CAAChF,KCtCgB,aDsCQG,KAAI6E,UAG/B,SAASuD,KACd,MAAO,CAACvI,KCzCwB,sBD4C3B,SAASwI,KACd,MAAO,CAACxI,KC5CwB,sBD+C3B,SAASyI,GAAkBtI,GAChC,MAAO,CAACH,KC9CyB,sBD8CQG,MAGpC,SAASuI,KACd,MAAO,CAAC1I,KCjDiC,+BDoDpC,SAAS2I,KACd,MAAO,CAAC3I,KCpDiC,+B,gBClBlB4I,I,YAWf1C,I,YAUA2C,I,YAWAZ,I,YAUAG,I,YAWAf,I,YAYAC,IAjEK,SAAUsB,KAAV,iEACb,OADa,SACPlD,YAAI,CACR/E,YDPoC,2BCOMuF,IAC1CvF,YDJwC,+BCIMkI,IAC9ClI,YDDuC,8BCCMsH,IAC7CtH,YDGoC,2BCHMyH,IAC1CzH,YDMsB,aCNM0G,IAC5B1G,YDS+B,sBCTM2G,MAP1B,wCAWf,SAAUpB,KAAV,uEAEqB,OAFrB,kBAE2BP,YAAKK,GAAUE,WAF1C,OAGI,OADMzC,EAFV,gBAGUzC,YAAI6E,GAAyBpC,IAHvC,8BAMI,OANJ,mCAMUzC,YAAI6E,GAAA,OANd,sDAUA,SAAUgD,GAAiBhI,GAA3B,yEAGqB,OAFdiH,EAASjH,EAATiH,MADP,kBAG2BnC,YAAKK,GAAU6B,kBAAmBC,GAH7D,OAII,OADMrE,EAHV,gBAIUzC,YAAI6E,GAAiCpC,IAJ/C,8BAOI,OAPJ,mCAOUzC,YAAI6E,GAAA,OAPd,sDAWA,SAAUoC,KAAV,uEAEqB,OAFrB,kBAE2BtC,YAAKK,GAAUiC,mBAF1C,OAGI,OADMxE,EAFV,gBAGUzC,YAAI6E,GAAiCpC,IAH/C,8BAMI,OANJ,mCAMUzC,YAAI6E,GAAA,OANd,sDAUA,SAAUuC,GAASvH,GAAnB,yEAGqB,OAFdV,EAAMU,EAANV,GADP,kBAG2BwF,YAAKK,GAAUoC,SAAUjI,GAHpD,OAII,OADMsD,EAHV,gBAIUzC,YAAI6E,GAAwBpC,IAJtC,8BAOI,OAPJ,mCAOUzC,YAAI6E,GAAA,OAPd,sDAWA,SAAUwB,GAAUxG,GAApB,yEAGqB,OAFdV,EAAcU,EAAdV,GAAI6E,EAAUnE,EAAVmE,OADX,kBAG2BW,YAAKK,GAAUqB,UAAWlH,EAAI6E,GAHzD,OAII,OAJJ,gBAIUhE,YFHD,CAAChB,KCzCwB,uBCwClC,OAKI,OALJ,SAKUgB,YAAI6E,GAAiB1F,IAL/B,+BAQI,OARJ,oCAQUa,aAAI,KFHL,CAAChB,KC5CwB,wBCuClC,uDAYA,SAAUsH,GAAazG,GAAvB,uEAGqB,OAFdV,EAAMU,EAANV,GADP,kBAG2BwF,YAAKK,GAAUsB,aAAcnH,GAHxD,OAII,OAJJ,gBAIUa,YFHD,CAAChB,KCjDiC,gCCgD3C,OAKI,OALJ,SAKUgB,YAAI6E,GAAiB1F,IAL/B,+BAQI,OARJ,oCAQUa,aAAI,KFHL,CAAChB,KCpDiC,iCC+C3C,uD,ICnEOV,GAAcqE,IAAdrE,WAEcwJ,G,uGACF3I,GACf,OAAOsC,EAAMsD,IAAN,UAAazG,GAAb,mBAAkCa,Q,KCLtC,SAAS4I,KACd,MAAO,CACL/I,KCJ+B,uBDQ5B,SAASgJ,GAAU7I,GACxB,MAAO,CAACH,KCR+B,4BDQQG,MAG1C,SAAS8I,GAAiBxF,GAC/B,MAAO,CAACzD,KCX+B,4BDWQyD,YAG1C,SAASyF,GAAiBxJ,GAC/B,MAAO,CAACM,KCd+B,4BDcQN,SAG1C,SAASyJ,GAAWhJ,GACzB,MAAO,CAACH,KCjBgC,6BDiBQG,MAG3C,SAASiJ,GAAkB3F,GAChC,MAAO,CAACzD,KCpBgC,6BDoBQyD,YAG3C,SAAS4F,GAAkB3J,GAChC,MAAO,CAACM,KCvBgC,6BDuBQN,S,gBExBzBkJ,I,YAOfI,I,YAWAG,IAlBK,SAAUP,KAAV,iEACb,OADa,SACPlD,YAAI,CACR/E,YDNqC,4BCMMqI,IAC3CrI,YDJsC,6BCIMwI,MAHjC,wCAOf,SAAUH,GAAUnI,GAApB,yEAGqB,OAFdV,EAAMU,EAANV,GADP,kBAG2BwF,YAAKmD,GAAUE,UAAW7I,GAHrD,OAII,OADMsD,EAHV,gBAIUzC,YAAI6E,GAAyBpC,IAJvC,8BAOI,OAPJ,mCAOUzC,YAAI6E,GAAA,OAPd,sDAWA,SAAUsD,GAAWtI,GAArB,yEAGqB,OAFdV,EAAMU,EAANV,GADP,kBAG2BwF,YAAKmD,GAAUK,WAAYhJ,GAHtD,OAII,OADMsD,EAHV,gBAIUzC,YAAI6E,GAA0BpC,IAJxC,8BAOI,OAPJ,mCAOUzC,YAAI6E,GAAA,OAPd,sD,gBCfyByD,IAAV,SAAUA,KAAV,iEACb,OADa,SACP5D,YAAI,CACR6D,YAAKC,GACLD,YAAK9D,IACL8D,YAAKpC,IACLoC,YAAKhC,IACLgC,YAAKX,IACLW,YAAKE,MAPM,wC,qBCLA,SAASC,KAAmC,IAArBC,EAAoB,uDAAZ,GAAI9I,EAAQ,uCACxD,OAAQA,EAAOb,MACb,KAAKR,EACH,MAAM,GAAN,oBACKmK,GADL,iBAEM9I,EAAOX,gBAEf,KAAKV,EACH,OAAOY,IAAEwJ,QAAQD,EAAO9I,EAAOX,cACjC,QACE,OAAOyJ,G,ICVQE,G,0GACCC,GAClB,OAAOvG,IAAMG,aAAatD,IAAE2F,IAAI+D,EAAU,OAAQ,S,KCDvC,SAASC,KAAyC,IAApCJ,EAAmC,uDAA3BK,KAAmBnJ,EAAQ,uCAC9D,OAAQA,EAAOb,MACb,IlBNiB,QkBOf,OAAO,6BACF2J,GADL,IAEEM,YAAY,EACZC,OAAQ,KAEZ,IlBXyB,gBkBYvB,OAAO,6BACFF,MADL,IAEE9H,MAAOrB,EAAOqB,QAElB,IlBfyB,gBkBgBvB,OAAO,6BACFyH,GADL,IAEEM,YAAY,EACZC,OAAQL,GAAWM,aAAatJ,EAAOnB,SAE3C,IlBpBkB,SkBqBhB,OAAO,6BACFiK,GADL,IAEEzH,MAAO,OAEX,QACE,OAAOyH,GAIb,SAASK,KACP,MAAO,CACLC,YAAY,EACZC,OAAQ,GACRhI,MAAOD,EAAYiB,YC1BR,SAASsB,KAAkD,IAApCmF,EAAmC,uDAPhE,CACLS,UAAU,EACVC,aAAc,KACdH,OAAQ,IAIqDrJ,EAAQ,uCACvE,OAAQA,EAAOb,MACb,IjBN+B,sBiBO7B,MAVG,CACLoK,UAAU,EACVC,aAAc,KACdH,OAAQ,IAQR,IjBX0B,iBiBYxB,OAAO,6BACFP,GADL,IAEES,UAAU,IAEd,IjBfkC,yBiBgBhC,OAAO,6BACFT,GADL,IAEES,UAAU,EACVC,aAAcxJ,EAAOyD,UAEzB,IjBpBkC,yBiBqBhC,MAAO,CACL8F,UAAU,EACVC,aAAc,KACdH,OAAQL,GAAWM,aAAatJ,EAAOnB,QAE3C,QACE,OAAOiK,GC9BE,SAAS5F,KAAgD,IAAxC4F,EAAuC,uDA0C9D,CACLM,YAAY,EACZlG,QAAS,KACTuG,YAAa,GACbC,kBAAmB,IA9CwC1J,EAAQ,uCACrE,OAAQA,EAAOb,MACb,IpBFkB,SoBGhB,MAuCG,CACLiK,YAAY,EACZlG,QAAS,KACTuG,YAAa,GACbC,kBAAmB,IA1CnB,QACE,OAAOZ,EACT,IlBTuB,ckBUvB,IlBD+B,sBkBE/B,IlBUuC,8BkBTrC,OAAO,6BACFA,GADL,IAEEM,YAAY,IAEhB,IlBd+B,sBkBe/B,IlBNuC,8BkBOvC,IlBK+C,sCkBJ7C,OAAO,6BACFN,GADL,IAEEM,YAAY,IAEhB,IlBtB+B,sBkBuB7B,OAAO,6BACFN,GADL,IAEEM,YAAY,EACZlG,QAASlD,EAAOyD,UAEpB,IlBnBuC,8BkBoBrC,OAAO,6BACFqF,GADL,IAEEM,YAAY,EACZK,YAAazJ,EAAOyD,UAExB,IlBb+C,sCkBc7C,OAAO,6BACFqF,GADL,IAEEM,YAAY,EACZM,kBAAmB1J,EAAOyD,WCrClC,IAAMkG,GAAe,CACnBP,YAAY,EACZQ,MAAO,IAGM,SAASrE,KAAsC,IAA/BuD,EAA8B,uDAAtBa,GAAc3J,EAAQ,uCAC3D,OAAQA,EAAOb,MACb,IZToC,2BYUlC,OAAO,6BACF2J,GADL,IAEEM,YAAY,IAEhB,IZboC,2BYclC,OAAO,6BACFN,GADL,IAEEM,YAAY,EACZQ,MAAO5J,EAAOuF,SAElB,QACE,OAAOuD,GCnBb,IAAMa,GAAe,CACnBE,oBAAoB,EACpBC,mBAAmB,EACnBV,YAAY,EACZW,SAAU,GACVC,QAAS,GACTC,OAAQ,MAGK,SAAS9D,KAAsC,IAA/B2C,EAA8B,uDAAtBa,GAAc3J,EAAQ,uCAC3D,OAAQA,EAAOb,MACb,IbLuC,8BaMrC,OAAO,6BACF2J,GADL,IAEEe,oBAAoB,EACpBT,YAAY,IAEhB,IbVuC,8BaWrC,OAAO,6BACFN,GADL,IAEEe,oBAAoB,EACpBT,WAAYc,IAAc,GAC1BH,SAAU/J,EAAO4C,WAErB,IbtBwC,+BauBtC,OAAO,6BACFkG,GADL,IAEEgB,mBAAmB,EACnBV,YAAY,IAEhB,Ib3BwC,+Ba4BtC,OAAO,6BACFN,GADL,IAEEgB,mBAAmB,EACnBV,WAAYc,IAAc,GAC1BF,QAAShK,EAAO4C,WAEpB,Ib1BoC,2Ba2BlC,OAAO,6BACFkG,GADL,IAEEM,YAAY,IAEhB,Ib9BoC,2Ba+BlC,OAAO,6BACFN,GADL,IAEEM,YAAY,EACZa,OAAQjK,EAAO4C,WAEnB,IbtC8B,qBauC5B,OAAO,6BACFkG,GADL,IAEEmB,OAAQ,OAEZ,QACE,OAAOnB,GAIb,SAASoB,GAAcpB,EAAOM,GAC5B,OAAQN,EAAMgB,mBAAqBhB,EAAMe,oBAAsBT,EC3DjE,IAAMO,GAAe,CACnBP,YAAY,EACZe,mBAAmB,EACnBF,OAAQ,KACRG,QAAS,IAGI,SAASC,KAA2C,IAApCvB,EAAmC,uEAAvBa,IAAe3J,EAAQ,uCAChE,OAAQA,EAAOb,MACb,IVVqC,4BUWnC,OAAO,6BACF2J,GADL,IAEEM,YAAY,IAEhB,IVdqC,4BUenC,OAAO,6BACFN,GADL,IAEEM,YAAY,EACZa,OAAQjK,EAAO4C,WAEnB,IVtB+B,sBUuB7B,OAAO,gBACF+G,IAEP,IVtBsC,6BUuBpC,OAAO,6BACFb,GADL,IAEEqB,mBAAmB,IAEvB,IV1BsC,6BU2BpC,OAAO,6BACFrB,GADL,IAEEqB,mBAAmB,EACnBC,QAASpK,EAAO4C,SAASwH,UAG7B,QACE,OAAOtB,GC7Bb,IAWewB,GAXW,SAACC,GAAD,OAAaC,YAAgB,CACrDC,OAAQC,YAAcH,GACtB1B,iBACAK,QACAyB,UACAzH,WACAqC,UACAY,UACAkE,a,uDCXIO,G,yKACM,IACHC,EAASC,KAATD,MACD3H,EAAU3D,IAAE2F,IAAI2F,EAAO,WACvBE,IAAexL,IAAE2F,IAAI2F,EAAO,cAEhC,OACE,yBAAKG,UAAU,iBACb,yBAAKA,UAAU,sBACb,kBAAC,KAAD,CAAMC,GAAG,KACP,yBAAKC,IAAKC,KAASC,IAAI,OAG3B,wBAAIJ,UAAU,uBACZ,4BACE,uBAAGA,UAAU,qBACVK,KAAK,0DACLC,OAAO,SACPC,IAAI,uBAHP,oBAQJ,yBAAKP,UAAU,+BACb,yBAAKA,UAAU,SAEX9H,EACE,yBAAK8H,UAAU,uBAAuBQ,MAAOV,KAAKW,eAAevI,IAC/D,kBAAC,KAAD,CAAM+H,GAAG,WAAWS,MAAK,mBAAcxI,EAAQF,aAE/C,KAEN,yBAAKgI,UAAU,iBACZD,EAAa,4BAAQY,QAASb,KAAKxH,OAAOsI,KAAKd,MAAOE,UAAU,qBAAnD,WAA0F,kBAAC,KAAD,CAAMC,GAAG,UAAT,WAE1G,6BACGF,EAAa,KAAO,kBAAC,KAAD,CAAME,GAAG,WAAT,iB,qCAQlB/H,GACb,MAAO,CAAC2I,WAAW,OAAD,OAAStM,IAAE2F,IAAIhC,EAAS,mBAAxB,e,+BAIlB4H,KAAKD,MAAMiB,S1BzCN,CAAC3M,KCZY,e,GyBID4M,IAAMC,WAqD3BpB,GAAOqB,YAAc,SAENC,qBAAUtB,IC1DJuB,G,yKACT,IAAD,EACerB,KAAKD,MAAtBuB,EADE,EACFA,MAAO/B,EADL,EACKA,OAEZ,OACE,wBAAIW,UAAU,eACZ,4BAAI,kBAAC,KAAD,CAAMC,GAAG,IAAID,UAAWoB,EAAQ,GAAK,WAArC,SAEFA,EACE,4BAAI,kBAAC,KAAD,CAAMnB,GAAE,iBAAYmB,EAAM9M,IAAM0L,UAAU,WAAWoB,EAAMV,QAC7D,KAGJrB,EACE,4BAAI,kBAAC,KAAD,CAAMY,GAAE,kBAAaZ,EAAO/K,IAAM0L,UAAU,WAAWX,EAAOzE,OAChE,U,GAf2BmG,IAAMC,WAsB/CG,GAAYF,YAAc,c,aCtBLI,G,oDAEnB,WAAYxB,GAAQ,IAAD,8BACjB,cAAMA,IACDlL,QAAU,EAAKA,QAAQiM,KAAb,iBAFE,E,gEAKE,IAAD,EACqBd,KAAKD,MAAvCxL,EADa,EACbA,aAAcM,EADD,EACCA,QAAS2M,EADV,EACUA,QAE5BxB,KAAKyB,oBAAsBC,YAAW,WACpC7M,EAAQN,KACPiN,K,gCAIHxB,KAAKD,MAAMlL,QAAQmL,KAAKD,MAAMxL,cAC9BoN,aAAa3B,KAAKyB,uB,+BAGV,IACHlN,EAAgByL,KAAKD,MAArBxL,aAEL,IAAKA,EACH,OAAO,KAIT,IAAIqN,EAAU9N,EAAiBS,EAAaF,OAASE,EAAaF,KAElE,OACE,yBAAKwN,cAAA,EAAW3B,UAAW,aAAe0B,GACvCrN,EAAaD,QACd,4BAAQ4L,UAAU,mBAAmBW,QAASb,KAAKnL,SAAnD,a,GAjCkCqM,aAwC1CK,GAAaJ,YAAc,eAM3BI,GAAaO,aAAe,CAC1BN,QAAS,KC7CX,IAAMO,GAAwB,SAAC,GAA8B,IAA7BlN,EAA4B,EAA5BA,QAASkJ,EAAmB,EAAnBA,cACrC,OACE,yBAAKmC,UAAU,0BAEXnC,EAAc/C,KAAI,SAACzG,EAAcyN,GAAf,OAAyB,kBAAC,GAAD,CAAcC,IAAKD,EAAOzN,aAAcA,EAAcM,QAASA,SAMpHkN,GAAsBZ,YAAc,wBAarBC,oBAXf,SAAyBpD,GACvB,MAAO,CACLD,cAAeC,EAAMD,kBAIzB,SAA4BiD,GAC1B,OAAOkB,YAAmB1M,EAAqBwL,KAIlCI,CAA6CW,ICftDI,I,0LAEE7L,EAAYiB,aAAeyI,KAAKD,MAAM3H,SACxC4H,KAAKD,MAAMiB,S5BdR,CAAC3M,KCHiB,kB,+B2BqBf,IAAD,EAC8B2L,KAAKD,MAArC3B,EADE,EACFA,KAAMhG,EADJ,EACIA,QAASkJ,EADb,EACaA,MAAO/B,EADpB,EACoBA,OAE3B,OACE,yBAAKW,UAAU,UACb,kBAAC,GAAD,CAAQ9B,KAAMA,EACNhG,QAASA,IACjB,kBAAC,GAAD,CAAakJ,MAAOA,EACP/B,OAAQA,IACrB,yBAAKW,UAAU,eACZF,KAAKD,MAAMqC,UAGd,kBAAC,GAAD,W,GApBUnB,IAAMC,YA0BxBiB,GAAIhB,YAAc,MAeHC,oBATf,SAAyBpD,GACvB,MAAO,CACLsD,MAAOtD,EAAM3C,OAAO8D,OACpBI,OAAQvB,EAAMuB,OAAOJ,OACrBf,KAAMJ,EAAMI,KACZhG,QAAS3D,IAAE2F,IAAI4D,EAAM5F,QAAS,UAAW,SAI9BgJ,CAAyBe,ICrDnBE,G,yKAGjB,OACE,yBAAKnC,UAAU,sCACb,yBAAKA,UAAU,YACf,yBAAKA,UAAU,iB,GANce,IAAMC,WAa3CmB,GAAQlB,YAAc,U,ICbDmB,G,oDACnB,aAAe,IAAD,8BACZ,gBAEKtE,MAAQ,CACXuE,WAAY,EACZC,aAAc,GAGhB,EAAKC,cAAgB,EAAKA,cAAc3B,KAAnB,iBART,E,gEAYZ,GAAI4B,WAAY,CACd,IAAIC,EAAKnM,OAAOkM,WAAW,sBAC3BC,EAAGC,YAAY5C,KAAKyC,eACpBzC,KAAKyC,cAAcE,M,oCAITA,GACRA,EAAGE,QACL7C,KAAK8C,SAAS,CAACN,aAAc,IAE7BxC,KAAK8C,SAAS,CAACN,aAAc,M,+BAIvB,IACHJ,EAAYpC,KAAKD,MAAjBqC,SADE,EAE0BpC,KAAKhC,MAAjCuE,EAFE,EAEFA,WAAYC,EAFV,EAEUA,aAEjB,OACE,yBAAKtC,UAAU,cAAc6C,IAAI,QAC/B,4BACE7C,UAAU,+BACVW,QAASb,KAAKgD,aAAalC,KAAKd,OAAO,0BAAME,UAAU,qBAAhB,WACzC,4BACEA,UAAU,8BACVW,QAASb,KAAKiD,YAAYnC,KAAKd,OAAO,0BAAME,UAAU,qBAAhB,WACxC,wBAAIA,UAAU,mBAAmB6C,IAAI,QAEjC9B,IAAMiC,SAASlI,IAAIoH,GAAU,SAACe,EAAG7H,GAC/B,IAAIoF,EAAQ,CACV0C,OAAQ,IAAMZ,GAAca,QAAQ,GAAK,IACzCC,QAAUhI,GAAKiH,GAAcjH,EAAIiH,EAAaC,EAAgB,eAAiB,QAGjF,OACE,wBAAIP,IAAK3G,EAAG4E,UAAU,mBAAmBQ,MAAOA,GAC7CyC,U,mCASJI,GACXA,EAAEC,iBADY,MAEmBxD,KAAKhC,MAAjCuE,EAFS,EAETA,WAEFA,EAJW,EAEGC,aAEcvB,IAAMiC,SAASO,MAAMzD,KAAKD,MAAMqC,WAC7DpC,KAAK8C,SAAS,CAACP,WAAYA,EAAa,M,kCAIhCgB,GACVA,EAAEC,iBADW,IAERjB,EAAcvC,KAAKhC,MAAnBuE,WAEDA,EAAa,GACfvC,KAAK8C,SAAS,CAACP,WAAYA,EAAa,Q,GAzERtB,IAAMC,WA8E5CoB,GAASnB,YAAc,W,ICtEjBuC,G,oDACJ,aAAe,IAAD,8BACZ,gBAEKC,eAAiB,EAAKA,eAAe7C,KAApB,iBACtB,EAAK8C,cAAgB,EAAKA,cAAc9C,KAAnB,iBAJT,E,iEAQZd,KAAKD,MAAMzD,oBACX0D,KAAKD,MAAM7D,kBAAkB,CAAC,YAAa,Y,+BAGnC,IACHb,EAAU2E,KAAKD,MAAf1E,OACL,OACE,yBAAK6E,UAAU,WACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,oBACZ7E,EAAOiD,WAAa,kBAAC,GAAD,MAAa,KACjC0B,KAAK2D,kBAER,yBAAKzD,UAAU,oBACZF,KAAK4D,cAAc,aACnB5D,KAAK4D,cAAc,c,uCAOZ,IACXvI,EAAU2E,KAAKD,MAAf1E,OAEL,OACE,yBAAK6E,UAAU,oBACb,wBAAIA,UAAU,kBAAd,mBACA,4BACIzL,IAAEoP,QAAQxI,EAAO4D,UAAUjE,KAAI,SAAA8I,GAC/B,OACE,wBAAI7B,IAAK6B,EAAEtP,IACT,kBAAC,KAAD,CAAM2L,GAAE,iBAAY2D,EAAEtP,KACpB,yBAAK4L,IAAK0D,EAAEC,YAAazD,IAAI,c,oCAU/BxF,GAAO,IAEfkJ,EADWhE,KAAKD,MAAf1E,OACsB6D,QAAQpE,GAEnC,OAAIrG,IAAEwP,QAAQD,GACL,KAIP,yBAAK9D,UAAU,oBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBACZpF,GAEH,kBAAC,GAAD,KACIkJ,EAAchJ,KAAI,SAAAkJ,GAClB,OACE,yBAAKjC,IAAKiC,EAAE1P,IACV,kBAAC,KAAD,CAAM2L,GAAE,iBAAY+D,EAAE1P,KACpB,yBAAK4L,IAAK8D,EAAEH,YAAazD,IAAI,MAE/B,yBAAKJ,UAAU,2BACb,kBAAC,KAAD,CAAMC,GAAE,iBAAY+D,EAAE1P,KAAO0P,EAAEtD,mB,GA1EhCK,IAAMC,WAoFzBwC,GAAKvC,YAAc,OAcJC,oBAZf,SAAyBpD,GACvB,MAAO,CACLvD,OAAQuD,EAAMvD,OAAOqE,MACrBzD,OAAQ2C,EAAM3C,WAIlB,SAA4B2F,GAC1B,OAAOkB,YAAmBiC,EAAcnD,KAI3BI,CAA6CsC,ICtGvCU,G,yKAKjB,IAHA,IAAIC,EAAQ,GADL,EAEsBrE,KAAKD,MAA7BuE,EAFE,EAEFA,QAASC,EAFP,EAEOA,YAELjJ,EARK,EAQUA,GAPV,EAO0BA,IACtC+I,EAAMrO,KAAKgK,KAAKwE,YAAYD,GAAejJ,EAAIiJ,EAAaD,EAAShJ,IAGvE,OACE,0BAAM4E,UAAU,kBACbmE,EAECE,EACE,4BACG1D,QAASb,KAAKyE,oBAAoB3D,KAAKd,KAAMsE,GAC7CpE,UAAU,oCAFb,UAMA,Q,iCAMC+D,EAASK,EAASjL,GAC3B,OACE,4BAAQ4I,IAAK5I,EACV6G,UAAU,iCACVW,QAASb,KAAK0E,YAAY5D,KAAKd,KAAMsE,EAASjL,IAC9C4K,EAAU,SAAW,Y,kCAIhBK,EAASjL,EAAQkK,GAC3BA,EAAEC,iBACFxD,KAAKD,MAAM4E,eAAeL,EAASjL,K,0CAGjBiL,EAASf,GAC3BA,EAAEC,iBACFxD,KAAKD,MAAM6E,eAAeN,O,GA1CUrD,IAAMC,WAqD9CkD,GAAWjD,YAAc,a,IChDnB0D,G,oLACiB,IACdrQ,EAAMwL,KAAKD,MAAM+E,MAAMC,OAAvBvQ,GACLwL,KAAKD,MAAMtD,SAASjI,K,yCAGHwQ,GACjB,GAAIA,EAAUF,MAAMC,OAAOvQ,KAAOwL,KAAKD,MAAM+E,MAAMC,OAAOvQ,GAAI,CAC5DwL,KAAKD,MAAMhE,aADiD,IAGvDvH,EAAMwL,KAAKD,MAAM+E,MAAMC,OAAvBvQ,GACLwL,KAAKD,MAAMtD,SAASjI,M,6CAKtBwL,KAAKD,MAAMhE,e,+BAGH,IAAD,EAC0DiE,KAAKD,MAAjEzB,EADE,EACFA,WAAYgD,EADV,EACUA,MAAO5F,EADjB,EACiBA,UAAWoB,EAD5B,EAC4BA,kBAAmB1E,EAD/C,EAC+CA,QAEtD,OACE,yBAAK8H,UAAU,YACZ5B,EAAa,kBAAC,GAAD,MAAa,KAC1BgD,EACC,6BACE,yBAAKpB,UAAU,OACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,kBAAkBoB,EAAMV,SAG1C,yBAAKV,UAAU,OACb,yBAAKA,UAAU,4CACb,yBAAKA,UAAU,kBACVE,IAAKkB,EAAMyC,YACXzD,IAAI,KACT,yBAAKJ,UAAU,UACb,yBAAKA,UAAU,gBAAf,aAGA,uBAAGA,UAAU,cACX,8BAAOoB,EAAM2D,YAInB,yBAAK/E,UAAU,2CACb,6BACG9H,EACC,yBAAK8H,UAAU,UACb,uBAAGA,UAAU,8BACX,iDACA,kBAAC,GAAD,CAAYoE,QAAShD,EAAM9M,GACf+P,YAAajD,EAAM4D,SACnBP,eAAgBjJ,EAChBkJ,eAAgB9H,MAIhC,KAEF,yBAAKoD,UAAU,UACb,yBAAKA,UAAU,gBAAf,iBAGA,uBAAGA,UAAU,cACX,0CAAuB,8BAAOoB,EAAM6D,WAEtC,uBAAGjF,UAAU,cACX,8CAA2B,wCAAUoB,EAAM8D,SAAhB,WAE7B,uBAAGlF,UAAU,cACX,4CACA,8BAAOF,KAAKqF,YAAY/D,EAAM7G,UAEhC,uBAAGyF,UAAU,cACX,iDACA,8BAAOF,KAAKsF,aAAahE,EAAMiE,cAGnC,yBAAKrF,UAAU,UACb,yBAAKA,UAAU,gBAAf,QAGA,6BAAMF,KAAKwF,WAAWlE,EAAMmE,YAIlC,yBAAKvF,UAAU,oBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBAAf,WAGCF,KAAK0F,oBAAoBpE,EAAMhC,aAMxC,Q,sCAMQgC,GACd7M,IAAEkG,OAAO2G,EAAMqE,UAAU,SAAAC,GACvB,QAASA,EAAE9K,QAEV/E,KAAK,Q,iCAGC0P,GACT,OAAIhR,IAAEwP,QAAQwB,GACL,KAIP,kBAAC,GAAD,KAEIA,EAAOzK,KAAI,SAAA6K,GACT,OACE,yBAAK5D,IAAK4D,EAAErR,IACV,kBAAC,KAAD,CAAM2L,GAAE,kBAAa0F,EAAErR,KACrB,yBAAK4L,IAAKyF,EAAE9B,YAAazD,IAAI,MAE/B,yBAAKJ,UAAU,0BAAyB,kBAAC,KAAD,CAAMC,GAAE,kBAAa0F,EAAErR,KAAOqR,EAAE/K,OACxE,yBAAKoF,UAAU,0BAA0B2F,EAAEC,a,0CAQrCzK,GAClB,OAAI5G,IAAEwP,QAAQ5I,GACL,KAIP,kBAAC,GAAD,KAEIA,EAAOL,KAAI,SAAAkJ,GACT,OACE,yBAAKjC,IAAKiC,EAAE1P,IACV,kBAAC,KAAD,CAAM2L,GAAE,iBAAY+D,EAAE1P,KACpB,yBAAK4L,IAAK8D,EAAEH,YAAazD,IAAI,MAE/B,yBAAKJ,UAAU,2BACb,kBAAC,KAAD,CAAMC,GAAE,iBAAY+D,EAAE1P,KAAO0P,EAAEtD,e,mCASlCmF,GACX,OAAOA,EAAO/K,KAAI,SAACgL,EAAG1K,GACpB,OACE,0BAAM2G,IAAK+D,EAAExR,IACb,kBAAC,KAAD,CAAM2L,GAAE,kBAAa6F,EAAExR,KAAOwR,EAAElL,MAC7BQ,EAAIyK,EAAO3P,OAAS,EAAI,oCAAkB,W,kCAKvCqE,GACV,OAAOA,EAAOO,KAAI,SAACJ,EAAGU,GACpB,OAAQ,0BAAM2G,IAAKrH,EAAEpG,IAClBoG,EAAEE,KACFQ,EAAIb,EAAOrE,OAAS,EAAI,oCAAkB,a,GA7K/B6K,IAAMC,WAkL1B2D,GAAM1D,YAAc,QAeLC,oBAbf,SAAyBpD,GACvB,MAAO,CACLsD,MAAOtD,EAAM3C,OAAO8D,OACpBb,WAAYN,EAAM3C,OAAOiD,WACzBlG,QAAS3D,IAAE2F,IAAI4D,EAAO,uBAI1B,SAA4BgD,GAC1B,OAAOkB,YAAmBiC,EAAcnD,KAI3BI,CAA6CyD,ICnMtDoB,G,qLACkB,IACfzR,EAAMwL,KAAKD,MAAM+E,MAAMC,OAAvBvQ,GACLwL,KAAKD,MAAM1C,UAAU7I,K,gDAGG0R,GACxB,GAAGA,EAAUpB,MAAMC,OAAOvQ,KAAOwL,KAAKD,MAAM+E,MAAMC,OAAOvQ,GAAI,CAAC,IACvDA,EAAM0R,EAAUpB,MAAMC,OAAtBvQ,GACLwL,KAAKD,MAAM1C,UAAU7I,M,6CAKvBwL,KAAKD,MAAM3C,gB,+BAGH,IACHmC,EAAUS,KAAKD,MAAfR,OACAJ,EAAsBI,EAAtBJ,OAAQb,EAAciB,EAAdjB,WAEb,OACE,yBAAK4B,UAAU,aACZ5B,EAAa,kBAAC,GAAD,MAAa,KAC1Ba,EACC,6BACE,yBAAKe,UAAU,OACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,oBAAoBf,EAAOrE,QAG7C,yBAAKoF,UAAU,OACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,mBACbE,IAAKjB,EAAO4E,YACZzD,IAAI,MAER,yBAAKJ,UAAU,4CACb,6BACE,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBAAf,QAKF,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBAAf,kBAGA,yBAAKA,UAAU,cACZ5B,EAAa,kBAAC,GAAD,MAAa,KAC1B0B,KAAKmG,oBAAoBhH,EAAOG,cAM1CU,KAAK0F,oBAAoB,WAAYvG,EAAOiH,SAC5CpG,KAAK0F,oBAAoB,WAAYvG,EAAOkH,UAC5CrG,KAAK0F,oBAAoB,WAAYvG,EAAOmH,UAC5CtG,KAAK0F,oBAAoB,QAASvG,EAAOoH,QAE1C,Q,0CAMUd,GAClB,OACE,kBAAC,GAAD,KAEIA,EAAOzK,KAAI,SAAA6K,GACT,OACE,yBAAK5D,IAAK4D,EAAErR,IACV,kBAAC,KAAD,CAAM2L,GAAE,kBAAa0F,EAAErR,KACrB,yBAAK4L,IAAKyF,EAAE9B,YAAazD,IAAI,MAE/B,yBAAKJ,UAAU,0BAAyB,kBAAC,KAAD,CAAMC,GAAE,kBAAa0F,EAAErR,KAAOqR,EAAE/K,OACxE,yBAAKoF,UAAU,0BAA0B2F,EAAEC,a,0CASrCU,EAAcnL,GAChC,IAAIoL,EAAQhS,IAAEkG,OAAOU,GAAQ,SAAA6I,GAC3B,QAASA,EAAEpJ,QAGb,OAAIrG,IAAEwP,QAAQwC,GACL,KAIP,yBAAKvG,UAAU,wBACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBACZsG,GAEH,kBAAC,GAAD,KAEInL,EAAOL,KAAI,SAAAkJ,GACT,OACE,yBAAKjC,IAAKiC,EAAE1P,IACV,kBAAC,KAAD,CAAM2L,GAAE,iBAAY+D,EAAE1P,KACpB,yBAAK4L,IAAK8D,EAAEH,YAAazD,IAAI,MAE/B,yBAAKJ,UAAU,2BAA0B,kBAAC,KAAD,CAAMC,GAAE,iBAAY+D,EAAE1P,KAAO0P,EAAEpJ,OACvEoJ,EAAE4B,KACD,yBAAK5F,UAAU,0BAA0BgE,EAAE4B,MACzC,iB,GAnHL7E,IAAMC,WAgI3B+E,GAAO9E,YAAc,SAYNC,oBAVf,SAAyBpD,GACvB,MAAO,CACLuB,OAAQvB,EAAMuB,WAIlB,SAA4ByB,GAC1B,OAAOkB,YAAmBwE,EAAe1F,KAG5BI,CAA6C6E,I,oBCrJvCU,G,wGACDC,EAAOtS,GAEvB,GAAIsS,IADQ,2CACQC,KAAKD,GACvB,OAAOtS,GAAW,wC,+BAINwS,EAAKxS,GAEnB,GAAIwS,IADQ,qEACMD,KAAKC,GACrB,OAAOxS,GAAW,2D,KCDXyS,GAAmB9F,IAAM+F,cAAc,CAClDC,kBAAmB,aACnBC,oBAAqB,eAoERC,GAjEY,SAAAC,GAAsB,IACzCD,EADwC,oDAE5C,aAAe,IAAD,8BACZ,gBACKE,WAAa,GAFN,EAF8B,qEAQ1C,MAAO,CACLC,iBAAkBtH,KAAKuH,QAAQzG,KAAKd,MACpCwH,sBAAuBxH,KAAKwH,sBAAsB1G,KAAKd,SAVf,iDAe1C,MAAO,CACLiH,kBAAmBjH,KAAKyH,oBAAoB3G,KAAKd,MACjDkH,oBAAqBlH,KAAK0H,sBAAsB5G,KAAKd,SAjBb,0CAqBxB2H,GAClB3H,KAAKqH,WAAWrR,KAAK2R,KAtBqB,4CAyBtBC,GACpBnT,IAAEoT,OAAO7H,KAAKqH,WAAY,CAACO,YA1Be,gCA8B1C,IAAIL,GAAU,EAKd,OAJAvH,KAAKqH,WAAWjM,SAAQ,SAAA0M,GACtBA,EAAEF,MAAMG,WACRR,EAAUA,GAAWO,EAAEF,MAAML,aAExBA,IAnCmC,8CAuC1C,IAAMS,EAAU,GAQhB,OAPAhI,KAAKqH,WAAWjM,SAAQ,SAAA0M,GACtB,IAAMxT,EAAUwT,EAAEF,MAAMK,uBACpB3T,GACF0T,EAAQhS,KAAK1B,MAIV0T,IA/CmC,+BAmD1C,IAAME,EAAQ,6BAAOlI,KAAKD,OAAUC,KAAKmI,0BACzC,OACE,kBAACpB,GAAiBqB,SAAlB,CAA2BC,MAAOrI,KAAKsI,4BACrC,kBAAClB,EAAsBc,QAtDe,GACbjH,IAAMC,WA6DvC,OAFAiG,EAAmBhG,YAAc,qBAE1BgG,GCvEHoB,G,oDACJ,aAAe,IAAD,8BACZ,gBAEKC,WAAa,CAChBjB,SAAS,EACTjT,QAAS,IAGX,EAAK0J,MAAQ,CACX1J,QAAS,IAGX,EAAKmU,eAAiB,EAAKA,eAAe3H,KAApB,iBACtB,EAAK4H,oBAAsB,EAAKA,oBAAoB5H,KAAzB,iBAC3B,EAAKiH,SAAW,EAAKA,SAASjH,KAAd,iBAChB,EAAK6H,mBAAqB,EAAKA,mBAAmB7H,KAAxB,iBAC1B,EAAKmH,qBAAuB,EAAKA,qBAAqBnH,KAA1B,iBAC5B,EAAKyG,QAAU,EAAKA,QAAQzG,KAAb,iBAjBH,E,qDAoBLf,GAAQ,IACRqC,GAA6B,qBAAVrC,EAAwBC,KAAKD,MAAQA,GAAxDqC,SACP,OAAOA,IAAaA,EAAShM,OAASgM,EAAW,O,0CAG9B,IACZ6E,EAAqBjH,KAAKD,MAA1BkH,kBAEHA,GACFA,EAAkB,CAChBW,MAAO5H,KACP1L,QAAS0L,KAAKD,MAAMzL,QACpByT,SAAU/H,KAAK+H,a,6CAKG,IACfb,EAAuBlH,KAAKD,MAA5BmH,oBACHA,GACFA,EAAoBlH,Q,yCAILgF,GACqBhF,KAAKD,MAApC6I,8BAEa5I,KAAK6I,SAAS7D,GAAWjF,MAAMsI,QAC5BrI,KAAK6I,WAAW9I,MAAMsI,OAEzCrI,KAAK+H,c,yCAKQzT,GACjB,IAAM0J,EAAQ,CAAC1J,UAASiT,SAAUjT,GAClC0L,KAAKwI,WAAaxK,EAClBgC,KAAK8C,SAAS9E,K,6CAId,OAAOvJ,IAAEqU,UAAU9I,KAAKwI,WAAWlU,W,gCAInC,OAAO0L,KAAKwI,WAAWjB,U,iCAGb,IAGNjT,EAHK,EAC8D0L,KAAKD,MAArEqC,EADE,EACFA,SAAU2G,EADR,EACQA,UAAWC,EADnB,EACmBA,SAAUC,EAD7B,EAC6BA,YAAaC,EAD1C,EAC0CA,iBAC7CC,EAAQnJ,KAAK6I,WAGnB,GAAIM,EAAO,CAAC,IAAD,EACuBA,EAAMpJ,MAA/BsI,EADE,EACFA,MAAOhU,EADL,EACKA,KAEd,GAHS,EACW2U,WAEHX,GAAmB,IAAVA,IAAyB,IAAVA,EACvC/T,EAAU0L,KAAK0I,2BACV,GAAa,UAATrU,EACTC,EAAUqS,GAAgByC,WAAWf,QAChC,GAAa,QAAThU,EACTC,EAAUqS,GAAgB0C,SAAShB,QAC9B,GAAa,WAAThU,EAAmB,CAAC,IAAD,EACT8U,EAAMpJ,MAAlBuJ,EADqB,EACrBA,IAAKC,EADgB,EAChBA,IACRD,GAAOE,OAAOnB,GAASmB,OAAOF,KAChChV,GAAWyU,GAAa,cAAgB,iBAAmBO,GAEzDC,GAAOC,OAAOnB,GAASmB,OAAOD,KAChCjV,GAAWyU,GAAa,cAAgB,oBAAsBQ,IAKhEP,IAAa5G,EAASrC,MAAMsI,QAC9B/T,EAAU0L,KAAK0I,wBAGZpU,GAAW4U,IACd5U,EAAU4U,KAGZlJ,KAAK2I,mBAAmBrU,GAEpB2U,GACFA,M,4CAKF,OAAQjJ,KAAKD,MAAMgJ,WAAa,cAAgB,iB,uCAIhD/I,KAAK+H,WADU,IAGR0B,EAAoBzJ,KAAKD,MAAzB0J,iBACFhV,IAAEwP,QAAQwF,IACbA,EAAiBrO,SAAQ,SAAAsO,GAAY,OAAIA,EAAa3B,UAAY2B,EAAa3B,gB,+BAIzE,IAAD,OACAhI,EAAgBC,KAAhBD,MAAO/B,EAASgC,KAAThC,MAGRoE,IAFiBpC,KAAK6I,YAGV9I,EAAM4J,qBAClB1I,IAAMiC,SAASlI,IAAI+E,EAAMqC,UAAU,SAAAwH,GACjC,OAAO3I,IAAM4I,aAAaD,EAAO,CAC/BE,OAAQ,EAAKrB,oBAGjB1I,EAAMqC,SAENmF,IAAYvH,KAAK+J,qBAAuB/L,EAAM1J,SAEpD,OACE,yBAAK4L,UAAS,qBAAgBF,KAAKD,MAAMG,UAA3B,YAAwCF,KAAKhC,MAAMgM,aAC9D5H,GACCmF,GAAY,yBAAKxE,IAAI,MAAM7C,UAAU,kBACpCF,KAAK+J,qBAAuB/L,EAAM1J,Y,0CAMtB,IACZiK,EAAUyB,KAAKD,MAAfxB,OAEP,GAAIA,EACF,OAAI0L,MAAMnU,QAAQyI,GACTA,EAAOxI,KAAK,MAGdwI,EAAO2L,e,GA5JSjJ,IAAMC,WAiKnCqH,GAAepH,YAAc,iBAc7BoH,GAAezG,aAAe,CAC5BqI,WAAW,EACXR,sBAAsB,EACtBf,6BAA6B,GAG/BL,GAAe6B,aAAe,CAC5BnD,kBAAmBoD,KAAUC,KAC7BpD,oBAAqBmD,KAAUC,MAKlB,gBAAAvK,GAAK,OAClB,kBAACgH,GAAiBwD,SAAlB,MACG,YAA+C,IAA7CtD,EAA4C,EAA5CA,kBAAmBC,EAAyB,EAAzBA,oBACbsD,EAAczK,EAAdyK,WACDC,EAAe,CACnBxD,oBACAC,uBAMF,OAHIsD,IACFC,EAAa1H,IAAMyH,GAEd,kBAAC,GAAD,iBAAoBzK,EAAW0K,QCpMtCC,G,oDACJ,WAAY3K,GAAQ,IAAD,8BACjB,cAAMA,IAED/B,MAAQ,CACX9F,SAAU,GACVC,SAAU,GACVwS,WAAW,GAGb,EAAKC,MAAQ,KAEb,EAAKC,WAAa,EAAKA,WAAW/J,KAAhB,iBAClB,EAAKgK,eAAiB,EAAKA,eAAehK,KAApB,iBACtB,EAAKzI,MAAQ,EAAKA,MAAMyI,KAAX,iBACb,EAAKiK,iBAAmB,EAAKA,iBAAiBjK,KAAtB,iBAdP,E,kDAiBbyC,GACJA,EAAEC,iBAEExD,KAAKD,MAAMuH,oBACbtH,KAAKD,MAAM1H,MAAM2H,KAAKhC,MAAM9F,SAAU8H,KAAKhC,MAAM7F,Y,0CAKnD6H,KAAK+K,iBAAiB/K,KAAKD,S,gDAGHmG,GACxBlG,KAAK+K,iBAAiB7E,K,uCAGPnG,GAAQ,IAClBxJ,EAAyBwJ,EAAzBxJ,MAAOuO,EAAkB/E,EAAlB+E,MAAOrF,EAAWM,EAAXN,QACflJ,IACEuO,EAAMC,OAAOiG,WACfvL,EAAQzJ,KAAK8O,EAAMC,OAAOiG,YAG1BvL,EAAQzJ,KAAK,Q,+BAKT,IAAD,EAC+BgK,KAAKhC,MAAtC9F,EADE,EACFA,SAAUC,EADR,EACQA,SAAUwS,EADlB,EACkBA,UACpBpM,EAAUyB,KAAKD,MAAfxB,OAEL,OACE,yBAAK2B,UAAU,gBACb,0BAAM+K,YAAU,GACd,yBAAK/K,UAAU,yCACb,yBAAKA,UAAU,mBACb,uCAEF,yBAAKA,UAAU,OACb,kBAAC,GAAD,CAAgB6I,UAAU,YACVxK,OAAQA,EAAOrG,SACfyR,sBAAsB,GACpC,2BAAOtV,KAAK,OACL6W,YAAY,aACZlC,UAAQ,EACRX,MAAOnQ,EACPiT,SAAUnL,KAAK6K,eAG1B,yBAAK3K,UAAU,OACb,kBAAC,GAAD,CAAgB6I,UAAU,WACVxK,OAAQA,EAAOpG,SACfwR,sBAAsB,GACpC,2BAAOtV,KAAK,WACLyG,KAAK,WACLoQ,YAAY,YACZlC,UAAQ,EACRX,MAAOlQ,EACPgT,SAAUnL,KAAK8K,mBAG1B,yBAAK5K,UAAU,mBACb,4BAAQA,UAAU,MACV7L,KAAK,SACLyG,KAAK,eACL+F,QAASb,KAAK3H,MACd+S,UAAWT,GAJnB,WAQF,yBAAKzK,UAAU,mBACb,kBAAC,KAAD,CAAMC,GAAG,WAAT,2B,iCAQDkL,GACT,IAAIV,EAAY3K,KAAKhC,MAAM7F,UAAYkT,EAAM7K,OAAO6H,MACpDrI,KAAK8C,SAAS,CACZ5K,SAAUmT,EAAM7K,OAAO6H,MACvBsC,UAAWA,M,qCAIAU,GACb,IAAIV,EAAY3K,KAAKhC,MAAM9F,UAAYmT,EAAM7K,OAAO6H,MACpDrI,KAAK8C,SAAS,CACZ3K,SAAUkT,EAAM7K,OAAO6H,MACvBsC,UAAWA,Q,GA9GG1J,IAAMC,WAmH1BwJ,GAAMvJ,YAAc,QAcLC,oBAJf,SAAyBpD,GACvB,OAAO,gBAAIA,EAAMI,SALnB,SAA4B4C,GAC1B,OAAOkB,YAAmBhI,EAAS8G,KAOtBI,CAA6C+F,GAAmBmE,aAAWZ,M,SCnIpFa,G,oDACJ,aAAe,IAAD,8BACZ,gBAEKvN,MAAQ,CACX9F,SAAU,GACVC,SAAU,GACVqT,gBAAiB,IAGnB,EAAKC,WAAa,EAAKA,WAAW3K,KAAhB,iBAClB,EAAK4K,wBAA0B,EAAKA,wBAAwB5K,KAA7B,iBAVnB,E,gEAcZd,KAAK+K,iBAAiB/K,KAAKD,S,gDAGHmG,GACxBlG,KAAK+K,iBAAiB7E,K,uCAGPnG,GAAQ,IAClB+E,EAAwB/E,EAAxB+E,MAAOrF,EAAiBM,EAAjBN,QAAiBM,EAAR3B,KACZ7H,QACHuO,EAAMC,OAAOiG,WACfvL,EAAQzJ,KAAK8O,EAAMC,OAAOiG,YAG1BvL,EAAQzJ,KAAK,Q,iCAKRqV,GACTA,EAAM7H,iBADU,MAEWxD,KAAKhC,MAA3B9F,EAFW,EAEXA,SAAUC,EAFC,EAEDA,SAEX6H,KAAKD,MAAMuH,oBACbtH,KAAKD,MAAMlH,cAAc,CAACX,WAAUC,e,+BAI/B4Q,EAAWxF,GAClBvD,KAAK8C,SAAL,gBAAgBiG,EAAYxF,EAAE/C,OAAO6H,U,gDAGZ,IAAD,EACUrI,KAAKhC,MACvC,GAFwB,EACnB7F,WADmB,EACTqT,gBAEb,MAAO,iC,+BAID,IAAD,OACFxN,EAASgC,KAAThC,MACAO,EAAUyB,KAAKD,MAAfxB,OACL,OACE,yBAAK2B,UAAU,iBACb,0BAAM+K,YAAU,GACd,yBAAK/K,UAAU,yCACb,yBAAKA,UAAU,mBACb,kDAEF,yBAAKA,UAAU,OACb,kBAAC,GAAD,CAAgB6I,UAAU,YACVxK,OAAQA,EAAOrG,SACfyR,sBAAsB,GACtC,2BAAOtV,KAAK,OACLyG,KAAK,OACLkO,UAAQ,EACRkC,YAAY,aACZ7C,MAAOrK,EAAM9F,SACbiT,SAAUnL,KAAKmL,SAASrK,KAAKd,KAAM,gBAG5C,yBAAKE,UAAU,OACb,2BAAO7L,KAAK,WACLyG,KAAK,WACLoQ,YAAY,YACZlC,UAAQ,EACRmC,SAAUnL,KAAKmL,SAASrK,KAAKd,KAAM,YACnCqI,MAAOrK,EAAM7F,YAEtB,yBAAK+H,UAAU,OACb,kBAAC,GAAD,CAAgB6I,UAAU,WACVxK,OAAQA,EAAOpG,SACfwR,sBAAsB,EACtBT,iBAAkB,WAAO,OAAO,EAAKwC,4BACrD,2BAAOrX,KAAK,WACLyG,KAAK,mBACLoQ,YAAY,oBACZlC,UAAQ,EACRmC,SAAUnL,KAAKmL,SAASrK,KAAKd,KAAM,mBACnCqI,MAAOrK,EAAMwN,oBAGtB,yBAAKtL,UAAU,mBACb,4BAAQ7L,KAAK,SACLyG,KAAK,aACLoF,UAAU,oBACVW,QAASb,KAAKyL,YAHtB,qBASN,yBAAKvL,UAAU,c,GA3GFe,IAAMC,WAiH3BqK,GAAOpK,YAAc,SAUNC,oBAJf,SAAyBpD,GACvB,OAAO,6BAAIA,EAAM6B,QAAjB,IAA0BzB,KAAK,gBAAKJ,EAAMI,WAL5C,SAA4B4C,GAC1B,OAAOkB,YAAmBhI,EAAS8G,KAOtBI,CAA6CuK,GAAmBL,aAAWC,MC5HpFK,G,qLAEc5L,KAAKD,MAAhB3H,SAGH4H,KAAK6L,QAAQlM,OAAOmM,QAAQ,a,6CAK9B9L,KAAKD,MAAMiB,SxCUN,CAAC3M,KCpByB,0B,+BuCavB,IACH+D,EAAW4H,KAAKD,MAAhB3H,QAEL,OACE,yBAAK8H,UAAU,oBACZ9H,EACC,yBAAK8H,UAAU,OACb,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,OACb,iDAEF,yBAAKA,UAAU,OACZ9H,EAAQ0C,KACP,6BACE,0BAAMoF,UAAU,yBAAyB9H,EAAQ0C,MADnD,KAGE,KACJ,wEACA,6BACE,kBAAC,KAAD,CAAMqF,GAAG,IAAID,UAAU,yBAAvB,gBAIC,KACX,yBAAKA,UAAU,c,GArCIe,IAAMC,WA2CjC0K,GAAazK,YAAc,eAC3ByK,GAAaxB,aAAe,CAC1BzK,OAAQ0K,KAAU0B,OAAOC,YASZ5K,oBANf,SAAyBpD,GACvB,MAAO,CACL5F,QAAS3D,IAAE2F,IAAI4D,EAAM6B,OAAQ,mBAIlBuB,CAAyBwK,ICGzBK,GAxDS,SAACC,GAAmB,IAEpCD,EAFmC,oDAIvC,aAAe,IAAD,8BACZ,gBAEKE,iBAAmB,EAAKA,iBAAiBrL,KAAtB,iBAHZ,EAJyB,iEAUjB,IAAD,EACad,KAAKD,MAAhC3B,EADc,EACdA,KAAMgO,EADQ,EACRA,SAAU3M,EADF,EACEA,QAErB,IAAKrB,EAAK7H,MAAO,CACf,IAAI8V,EAAQ,CAACrB,WAAaoB,EAASE,SAAWF,EAASG,QACvD9M,EAAQzJ,KAAK,CAACsW,SAAU,SAAUD,aAfC,gDAmBbnG,GACxBlG,KAAKmM,iBAAiBjG,KApBe,uCAuBtBnG,GAAQ,IAClB3B,EAA2B2B,EAA3B3B,KAAMgO,EAAqBrM,EAArBqM,SAAU3M,EAAWM,EAAXN,QAEhBrB,EAAK7H,OAA+B,WAAtB6V,EAASE,UAC1B7M,EAAQzJ,KAAK,YA3BsB,+BAiCrC,OADagK,KAAKD,MAAb3B,KACK7H,MAIF,kBAAC2V,EAAD,eAAenJ,IAAI,QAAW/C,KAAKD,QAHlC,SAlC4B,GAETkB,IAAMC,WAmDtC,OAZA+K,EAAkB9K,YAAc,oBAChC8K,EAAkB7B,aAAe,CAC/BzK,OAAQ0K,KAAU0B,OAAOC,YAUpB5K,aAPP,SAAyBpD,GACvB,MAAO,CACLI,KAAMJ,EAAMI,QAKTgD,CAAyBkK,aAAWW,KCnDvCO,G,oLAEFxM,KAAKD,MAAM9G,oBACX+G,KAAKD,MAAMpG,8B,+BAGH,IAAD,EACyCqG,KAAKD,MAAM3H,QAAtDA,EADE,EACFA,QAASuG,EADP,EACOA,YAAaC,EADpB,EACoBA,kBADpB,EAE4CoB,KAAKD,MAAnD3G,EAFE,EAEFA,iBAAkBI,EAFhB,EAEgBA,yBAEvB,OAAKpB,EAKH,yBAAK8H,UAAU,cAEb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBAAf,cAGA,yBAAKA,UAAU,cACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,uBACb,yBAAKE,IAAK3L,IAAE2F,IAAIhC,EAAS,mBAAoBkI,IAAI,OAGrD,yBAAKJ,UAAU,uCACb,yBAAKA,UAAU,yBAAf,cACc9H,EAAQF,gBASlC,yBAAKgI,UAAU,OACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBAAf,mBAGEzL,IAAEwP,QAAQtF,GAwBV,KAvBA,kBAAC,GAAD,KACGA,EAAY3D,KAAI,SAACsG,EAAOhG,EAAGmR,GAC1B,OACE,yBAAKxK,IAAKX,EAAM9M,IACd,kBAAC,KAAD,CAAM2L,GAAE,iBAAYmB,EAAM9M,KACxB,yBAAK4L,IAAKkB,EAAMyC,YAAa7D,UAAU,yBAAyBI,IAAI,MAEtE,yBAAKJ,UAAU,0BACb,kBAAC,KAAD,CAAMC,GAAE,iBAAYmB,EAAM9M,KACvB8M,EAAMV,QAGX,6BACE,kBAAC,GAAD,CAAY0D,QAAShD,EAAM9M,GACf+P,YAAajD,EAAM4D,SACnBP,eAAgBvL,EAChBwL,eAAgBpL,aAa9C,yBAAK0G,UAAU,OACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,gBAAf,sBAIGzL,IAAEwP,QAAQrF,GAgBT,KAfA,kBAAC,GAAD,KACGA,EAAkB5D,KAAI,SAAAkJ,GACrB,OACE,yBAAKjC,IAAKiC,EAAE1P,IACV,kBAAC,KAAD,CAAM2L,GAAE,iBAAY+D,EAAE1P,KACpB,yBAAK4L,IAAK8D,EAAEH,YAAazD,IAAI,MAE/B,yBAAKJ,UAAU,2BACb,kBAAC,KAAD,CAAMC,GAAE,iBAAY+D,EAAE1P,KAAO0P,EAAEtD,iBAlF9C,S,GAXSK,IAAMC,WAwH5BsL,GAAQrL,YAAc,UAEPC,oBAZf,SAAyBpD,GACvB,MAAO,CACL5F,QAAS3D,IAAE2F,IAAI4D,EAAO,eAI1B,SAA4BgD,GAC1B,OAAOkB,YAAmBwK,EAAgB1L,KAK7BI,CAA6C6K,GAAkBO,KCzHzDG,G,yKAEjB,OACE,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWpJ,KACjC,kBAAC,KAAD,CAAOmJ,KAAK,aAAaC,UAAWjI,KACpC,kBAAC,KAAD,CAAOgI,KAAK,cAAcC,UAAW7G,KACrC,kBAAC,KAAD,CAAO4G,KAAK,SAASC,UAAWpC,KAChC,kBAAC,KAAD,CAAOmC,KAAK,UAAUC,UAAWvB,KACjC,kBAAC,KAAD,CAAOsB,KAAK,iBAAiBC,UAAWlB,KACxC,kBAAC,KAAD,CAAOiB,KAAK,WAAWC,UAAWN,U,GAVNvL,IAAMC,WAgB1CyL,GAAOxL,YAAc,SCbrB,IAAM4L,GAAwBC,yBACxBC,GAAiBC,cACjBzN,GAAU0N,cAEVC,GAAQC,YACb7N,GAAkBC,IAClB6N,YACCC,YAAiB9N,IACjB+N,IACAP,GACAF,KAIFE,GAAeQ,IAAIC,IAEnBC,IAASC,OACP,kBAAC,IAAD,CAAUR,MAAOA,IACjB,kBAAC,IAAD,CAAiB3N,QAASA,IACzB,kBAAC,GAAD,QAGDoO,SAASC,eAAe,W","file":"static/js/main.5255ac3c.chunk.js","sourcesContent":["'use strict';\n// Express: http://localhost:3000/api/v0\n// Flask: http://localhost:5000/api/v0\n\nmodule.exports = {\n  apiBaseURL: process.env.REACT_APP_API_BASE_URL\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAABkCAYAAABwzlcRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEmFJREFUeNrsXVtsXMUZHkehibkkW7nFCBKyDi2RCErWkfqQIOIN4tKXNk4fCi9p7EqVQGplWxi1b/a+ISXINhIKUlW827xAH/CGp4rSeh3U5KGANwijggBvkxSRlAg7ygUE0na+2RlndnzO2TPnsns2+T/paO29nJ095//mv84/jBEIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgdA0dERxkmq1mtX+Xero6CjTpSUQYgYn3gA/ZqrO+Iof0wY5CQRCFJqQEyvNH6b5kb367WVWPn+SfXTxffbl1fPi9c0btrJtXTtZ71171Ecm+ZHj2nGJLjeBEJKEnIAZ/jDLj9QbHx9jby3OMBDRCT+4tZs9+cAziowwT/fVEfHICZAZB86Z8vjaEkxcNrqXTFzCzU1CqQHnOelSh089x85e+tTX5x7a/Dgb3DkqiNjxwtsF/tgHLdqAeF6EnONHkUhJuBlJCA2YzZ14xjcBFR7tOcCe2v4My506w8ZP/ieqsVcEGRmb4oSs0K0ktCvW+CQgNFcWJqgtAQGYrfAbh3bdzVLr1q48P75nC/vqt7vFMbFvq+1poZmH+bHITdtZfmTpdhKSiA0bNqb4Mc2PKj/m+ZGxJiHHEHw/kCkoQGAQcGB7t/gfj2O77xXP4RjedY8gZUBkha9aI2OGbjshYYCyGJB/Qz5ngpCwH1FQtyCMH3x08TS7eO082/+jrpoa27h+1Xv6Nm28zqrNGwUpcaQ3rLch4zwn4gQ/UnTvCQlBn4MV55+EMiDDzix/GnokOEfmzttcX1/65rsa4zlRZ3+5Q2hKHPO/6q0zY33OPPOkFQkJwZzxf0n/x49kCxKevfRZ6JHAn1T5w/wH5+t8RBAwd6oWtBnipqkOZcZOvvffVefEa9CamTtvr9Okctzz2WerCN6cxg/v6OgokTwQmo1Ll5bHuR+oNGKFHyO2JIwFlUtfs54//mvFRyx+clE854bU+vqhQlse4p/tl+atIvnVb6/Uve/ite7+rs7ufv7nGNfqyFOClCgeqJB4EJpJRLfX/JBQ5OO2de0Qfl0YoJKmfOFKnfnppN3mzi0L7aYDmlP5ihPZ+4RZCx/15Lk32fwXJ8XhhltvuV1o4Ez3nhR/hIOMkrs8kZGQBPjKE3KBXeRaJo0cYVCACC8+8TrLL5xng3/9uOH7EZBR5uUUJ2rp7DIb23OviKKqSK1XxY4bUMnz8/sPsj2bHhfzAEwDTsQ8iQIh6SScQLDjD/84uFIjagtVOXPg+IfC9LQB/D4EaqD9oPGmTx8JFakFNm+4j/06MyoeoWg5EQdJHAhJJiGCHItIuB8+NRpICz7/yJ/ZhWtrhR8YlICvLhwNlat0GtdT259WWpGISEguCZFze/GR++Z/13t3Gj7YK+UjVl8ytveo0Dj7/vK+MCuDEBDa759n34zlIkAj2hIRVRCslnhVjnfJ5X1ZVstfohIh7eBvw9Eu8s/HssqEfz++E4GpPjlecwwYN/zi43wMxbgFjo9HH0vW4S1L8rocl9elKT67vE76tSlHeU+kHDie2y8JhTkKQiAw4peI0DTP7T4sCBikbnT6p/eL6GmcBHQg4qAfH1Fe1FmNhB3G6+P84ZCD0LtBRG35ecoR3vQxF0F3AwRjih+TEQsgJizkboeYfeE+JokCH08+ZhLOGteqJ8oJACVr2r/79Em7wwcBV4QNmgk1niAGql9QiuZEDpAPRds48HcQAiL1MLP/ARZE8wY1TaGxuzq7IXw9jdY/upFQ1gVO61rSEjmvcLZPgZ+W2i8oIHyDbtrdcjzDcjIIW8GEsYxENUl53UtYRPx7BiP+jlAknDcFCiQEGUFKBEiQyL947QvWufZ2IcxIZwide+EKGyl9amWCKiz+5ifsjluWGSKyYYMwfoEUCjS3H7PUiYSSgLMOAqfMKx1b5MzrpCkDCYH8/hmHc6r86JwkmA6MYb/LpDEYVAPJyWDGRROr6wFBXAKxNPM+Lc3VfofruCSJmI+YILFqwXAkPHJiQM6qjgAZ+7h5itpOmKnI+4F45f9dZsc/uRiIfOq8MEWbYYZ6mKU9XjlEh9nz+wylcvUEyEvNVmngI405kAAm4YglAc0JQAitH5/Tw3y1JqIk1KzDb2p4PYzzDMgxpaOaHFyu23ycWjAsCRctfJrIMH9wF9t8x2X2+78fbHqkCnnE5x85JkjASThiQcKcFBgl/PtsTCcsdWHXK+0db1YDoV80CFiUwrpkKSwwHyeCjMODgKHMW+lfj8VBRIfr3huTyetKwjUNtGDay2dDQh3Jc8viak8gEoqj2RpQAXlQuWbS1qcaCkpAac4OSk2hY8Lnx2cMAmI2PxAkuMI/g55ApiaYluTyFU8zCFiWgh3Yv5Q+stOYsiGJkTYIWIqDgI2wxodQrQLIh6AJVjjAN0TUNCpkN9XutVcZWtyQE0Ba9tTxi5Q2Q5cDCtugFNqVOamRoElzNhulOSU1jG4FQFiHfQh1vzF5leWEFDrSKscUZnJwgqldc62QtzUuWjDjFd3D6gdTe+mF1GEAHxOR1yAr+KMCihK0oIUNihHk2kwTeH+D9+vashyVPyM1oq69hnwI/IThjx6IMtUhiZiznRwstGApOSSs5bfcp/x18S2+QJAnaGlcVNAmANtZNheBoJVYfQQz20DzpD0IzCKcEFIOPqsZRNHHkosj0S5N04rl5OAE87dMtUre3EjoqQFQhK1DRUWj8gnDrtaIkIh9Fh+pROhP6NrUyyTeH+dMLn9PyefkPGRci8kYb0/OmBys/HdJWnO8xeSQsNYP1NMXGpn9TBARKQgUY6MczWstYDvCXJdoSZyw8DsL6cJXiOlSHDd81JSLaZdpllaRZmnFwmQ3MWxYOblWytpaWy2oNJ+f5Ug3GeYiPFfFEPKMqWVlfksXpLj8GVO7Zxy+qz/GCclr0hu29d1dtGC+lYLjZI7u9PNBvUOaRSOmtsGtt9xm+5E42/w7+TwZQztU4vhiBxM320BmKk0qutYnvZTZRrCB9ZBKgi/opQkb/hiQTm++hFSF7QoJ12mX+5YoH2PsWEsvjFxnaKPdKk0eoh4EWZKlV61C2kNzxoWyj4nKCWPGxJlPIgnTjT408GD3qgjp2O4tnITvh7fDuG/58D3dSSCglXZr1pIbD02ZZclAU6JquN6yeZJvuXWI4E7FtYQsrDmabuWA5rg27ersFuVjrYIqQI/RzyLEq439asHJJAw8UMKvdHZJmKB15Dm3HMmASudqE1Ome0+kq+ht0HvXQ0Ipt9Fmp9DChSZ9VynB18BLC5o51XwStGAIEi6LXjHoD5reuI4VFi5EttELfEKYpI9t/UVLSAgNLDVhkbUPKmHWIEaMnc34EpkWsfHJzTLMqYDfmzWueyVaEtZyhL6A/KBtwya/yJ08I5YyoTlUswu50YktzE1qIvRZvNX+YKUF7kza43o4ESdraMGg5DFXzoSe/Op9woRsMYZCAGhDEAKLhJsFBGS0XjOVhJOw3EAzNBN6MCYTsqjaL+oS9A2qlRJRqO2PhJZAiRlWUFSffVhsb6a6aUcBVOUgQKNpplgBsmNBr5xRcyz5MIWuv4VjKbVgLPp3FD20YCZCLZg8EqITtuqUjZQFTMioEvfK3EWfGpilcQOtD6EJP1m61hZduWVQQSfioRaOpWyYpGMx+4NZwxw9buELFpJ2L9c08DU8Ybaqd3suKFAah0ANmgbHSUTV0gJm8I//9E6pjQIyBcMMbKVvqPvQaZmTiwvmkqmiC1lBVH0cLVuuZEtC32F5p6LtKAu5UaOKShxRqxoTEXUCinrY0b3lNiJh3pg0J5I0ljh8Q9l+o65Y3CPVkGhf0IuEvk0xRDHNgEoUpWsmEdG1W2lEkCaKYA1MT7Q4rCNg80vPojBJpwxtOB6D4A/4HIu5/nA2SiJKTT9hyOqkTy1YTqIWBJzyhL7LjhTpkCuMck2hm0as9Tx9XCTyX/vw5UDpC9UTVQV8EADSdoZqJy2oMMnqm+qOcQGsRNiNbFr6X3kfRMzz9x/SAiEZScTQLS4kAc3EsVcjqwEPcznxJLSaLWB+6iao8gkry99EbppCWxU48REAglZ88oGn2clzfxP9aLwWAqteqNgeTaYgxOSB8xljnGs3BkIIuYAeYPX5K/ReSYdsIqw3MbaRCTWWjEHEwL13XDrA5Ty2HkjcciU7EsInOnJiiQXomIxWhWo7bKW9otaOII/aXBSbhKpO34DqDYNV8ViK1NV5l3jUCrKF9i64m80l1oaAMELIWX2PWGjEPi9h9SDfEPNoZWExKaQ1Is7z5yelD1fxORZlfq7qX9pggknUot0gmpDJaJPVTQAp9P3oRcriiW2s99h78UQBOJFwqMbDO9Eq8YdbxGuP9uyoM49fWTjD/74siIfn3ZR6mwVlnExBZhARQpzlz+N3FZz8Im1VfJ98v9NStoLlWLDCoZet7j8Kcgzz11Q38DLTNkeRE0CaXe/AnXY4/YhX6wwHLagsg+l2I+FxWxKmN653eG5d7D8A5mR+gZuUC6FPVWRtDknEiiSiLsAr3fOM5T8NLy+rdUwrBxgLiNXr0ri3rjWizzGVmb92kv0s/L4XTYVzsn50LwTSypHGyopVUh1TbakboH2hkbHaP0C+cordAJCarleaYEGDIRUp8D1hm1dJs7GHBV88q8bitzP2WLvdM/c2+EdOjNv+IAg/epKCDGqlBcw//I++pDWTcXV6AcugYC6GJa3ukwKIeiL66WcO4RPPPstgga/9CQMGIlKGGRdorzx5nn7N1Ew30DT4DXNxdR6zGE9JjqdguZVAigXfDcsvZo3g0LjPsQXYi+LICfygr8KMFv4a9pnXa0oRNNE7memBExAWft7Uu59bR1ah+Zw6gXe88Lafjx+Q2v+Gh0NVTbmV6+p04iQ1j+dBpkhI6L6ecHTvEifiJAvQ4RiaD+RDIygAewwijeDW2h4pBJU+GN61Q5B26r3PI1uj2NDXuEkImERBlxNAid3EaLSoNycDNL4dXZiD2KdCNIPipHvtw6MNO2pj/0Ek3nGgyRMS6WO7d7C+TRtXTNqGTLpwZcX0ve6n+qreGWEEQuICM7o2tMixqKVNd3Z+J/YWfOmdceuW9ki6Hz41KnYBViamn7b7Ki9ZlPsiwqwFgRugyH9jicSAkMzATL1/ON/I4VVtEL+35mtOouci2dAFBduojIGWM/ONICY0LogK/xF1rGZ7/ka8ZYgiJmQhM6FtfOrIfUK/6wkHWYNwN0rJQIyX3slFtqMSzNNXF44KDYu6UR2KgGoCCLCWcYQISGgScTPBzdHrZmnZy3dCAAaEgAkZ9WYuaPYE31J9h4JTHtBie7Y8/015Eg9Ck5A1Qxj2JKwREULrWC6ESCj2FAQJ4wCCOwjeoMGwQoi1jIiGDpJcEJqkBc0yulUpIbv2FqN7R5hR+YB0AszQuAgIILiD1RLQfsrkNNcy+uz+JnaOJdEgxG12gnyy16leyA5MBTNH64lYt7f6fm4CqhRDnHhr8fUa6R+sJf4RhMFqClTEIArqIxJaI2At4ksgxAGsFKnKIAwKXbD+0ax8yocnoUFE+GHl8/HvLw9tiIAPcoe6+YnSNN8akAhIaB1crbDg+15zIv5s5gOhnLQ93mMFvketHbRAidXK0oiAhCigE6niU/4KXouKQ20+/0b/dqwzG2jWHvMwey2R4+QbJ7khRAWvsj/+WodWm+u7Rf7adroAKv+IAE2DkjT8+EGqhiEkiaQ3BAl9dFlT3ccmyfwktAvaioRoiy+MbGctmJfmZ4VuK+FmIqHQNps3bI28UsYJDhuHgnAF0nyEm5aE2ESzWq0ubevamWrGXoJY5vTu+ctqn/FCOzdmIhCiNEdL27p29MNfCxC99A2svoc52tUpTM5JunWEGwVrIjhHQa2MjxOPbV3JDxbpthGIhPUmKUhRQTfsuDb0bLPNOwmEpmtCYAQEjGtDT7l5J5CjW0YgErprw2IcG3qCgLIb2whpQcKNiI6oTlStVsVWWPzIoL9MFKsq1N6B0gylNYAEIqENEbG+MOgaQ5i26C0jgz0lTkBaA0ggEloSEUnDLGo9X1142SqRD3NWC/KQBiQQCUOQEU2D0UY/BTLCPMVSJKcmUEjCQ+vhkKVpFekDUjqCQAirFfkxzo/FqoYvr35R/feXp8WjgXl+DNCVI5AmjIeQWOafZbVu3n3yaZSgnZaar0TRTwKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAiEWPF/AQYA5Cms8CE4EekAAAAASUVORK5CYII=\"","export const NotificationActionTypes = {\n  CREATE_NOTIFICATION: 'CREATE_NOTIFICATION',\n  DISMISS_NOTIFICATION: 'DISMISS_NOTIFICATION'\n};\n\nexport const NotificationType = {\n  error: 'alert round',\n  success: 'success round',\n  information: 'info',\n  warning: 'warning',\n  secondary: 'secondary'\n};\n","import _ from 'lodash';\nimport {NotificationActionTypes, NotificationType} from './NotificationActionTypes';\n\nexport function create(type, message) {\n  return {\n    type: NotificationActionTypes.CREATE_NOTIFICATION,\n    notification: {\n      id: _.uniqueId(),\n      message,\n      type\n    }\n  };\n}\n\nexport function createError(message) {\n  return {\n    type: NotificationActionTypes.CREATE_NOTIFICATION,\n    notification: {\n      id: _.uniqueId(),\n      message,\n      type: NotificationType.error\n    }\n  };\n}\n\nexport function createSuccess(message) {\n  return {\n    type: NotificationActionTypes.CREATE_NOTIFICATION,\n    notification: {\n      id: _.uniqueId(),\n      message,\n      type: NotificationType.success\n    }\n  };\n}\n\nexport function dismiss(notification) {\n  return {\n    type: NotificationActionTypes.DISMISS_NOTIFICATION,\n    notification\n  };\n}\n","import { takeEvery, put } from 'redux-saga/effects';\nimport * as NotificationActions from '../actions/NotificationActions';\nimport _ from 'lodash';\n\nexport default function* watchErrors(getState) {\n  yield takeEvery('*', function* logger(action) {\n    if(action.error) {\n      var errorAction = createErrorNotification(action.error);\n      yield put(errorAction);\n    }\n  });\n}\n\nfunction createErrorNotification(err) {\n  if(err.status === 500) {\n    return NotificationActions.createError(err.statusText || 'Internal Server Error');\n  }\n\n  if (err.status !== 401) {\n    var errMessages = [];\n    if (err.data) {\n      try {\n        for (var prop in err.data) {\n          var msg = err.data[prop];\n          if (_.isArray(msg)) {\n            msg = msg.join(' ');\n          }\n\n          errMessages.push(`${prop}: ${msg}`);\n        }\n      } catch (ex) {\n        console.error(ex);\n      }\n    }\n\n    var errMessage = '';\n    if (errMessages.length === 1) {\n      errMessage = errMessages[0];\n    }\n    else {\n      errMessage = errMessages.join('\\n\\n');\n    }\n\n    var message = err.message || errMessage || (err.responseText ? ('Error: ' + err.responseText) : 'Error (see console logs)');\n\n    return NotificationActions.createError(message);\n  }\n}\n\n","class UserSession {\n  static setToken(token) {\n    if (token) {\n      window.localStorage.setItem('token', token);\n    } else {\n      window.localStorage.removeItem('token');\n    }\n  }\n\n  static getToken() {\n    return window.localStorage.getItem('token');\n  }\n}\n\nexport default UserSession;\n","import axios from 'axios';\nimport humps from 'humps';\nimport UserSession from '../UserSession';\n\nconst instance = axios.create();\ninstance.defaults.headers.post['Content-Type'] = 'application/json';\ninstance.defaults.headers.patch['Content-Type'] = 'application/json';\n\ninstance.interceptors.request.use(function (request) {\n  const authToken = UserSession.getToken();\n  if (authToken) {\n    if (request.headers && !request.headers.Authorization) {\n      request.headers['Authorization'] = `Token ${authToken}`;\n    }\n  }\n\n  if (request.data) {\n    const data = typeof request.data === \"string\" ? JSON.parse(request.data) : request.data\n    request.data = JSON.stringify(humps.decamelizeKeys(data));\n  }\n  return request;\n});\n\ninstance.interceptors.response.use(function (response) {\n  if (response.data) {\n    return humps.camelizeKeys(response.data);\n  }\n});\n\nexport default instance;\n","import settings from '../config/settings';\nimport axios from './axios';\n\nconst {apiBaseURL} = settings;\n\nexport default class AuthApi {\n  static login(username, password) {\n    return axios.post(`${apiBaseURL}/login`,\n      {\n        username, password\n      }\n    );\n  }\n\n  static register(profile) {\n    return axios.post(`${apiBaseURL}/register`, profile);\n  }\n}\n","import * as Types from './AuthActionTypes';\n\nexport function login(username, password) {\n  return {type: Types.LOGIN, username, password};\n}\n\nexport function loginSuccess(token) {\n  return {type: Types.LOGIN_SUCCESS, token};\n}\n\nexport function loginFailure(error) {\n  return {type: Types.LOGIN_FAILURE, error};\n}\n\nexport function logout() {\n  return {type: Types.LOGOUT};\n}\n","export const LOGIN = 'LOGIN';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGOUT = 'LOGOUT';\n","import * as Types from './ProfileActionTypes';\n\nexport function getProfile() {\n  return {type: Types.PROFILE_GET};\n}\n\nexport function getProfileSuccess(payload) {\n  return {type: Types.PROFILE_GET_SUCCESS, payload};\n}\n\nexport function getProfileFailure(error) {\n  return {type: Types.PROFILE_GET_FAILURE, error};\n}\n\nexport function createProfile(payload) {\n  return {type: Types.PROFILE_CREATE, payload};\n}\n\nexport function createProfileSuccess(payload) {\n  return {type: Types.PROFILE_CREATE_SUCCESS, payload};\n}\n\nexport function createProfileFailure(error) {\n  return {type: Types.PROFILE_CREATE_FAILURE, error};\n}\n\nexport function createProfileInit() {\n  return {type: Types.PROFILE_CREATE_INIT};\n}\n\nexport function getProfileRatings() {\n  return {type: Types.PROFILE_GET_RATINGS};\n}\n\nexport function getProfileRatingsSuccess(payload) {\n  return {type: Types.PROFILE_GET_RATINGS_SUCCESS, payload};\n}\n\nexport function getProfileRatingsFailure() {\n  return {type: Types.PROFILE_GET_RATINGS_FAILURE};\n}\n\nexport function profileRateMovie(id, rating) {\n  return {type: Types.PROFILE_MOVIE_RATE, id, rating};\n}\n\nexport function profileRateMovieSuccess() {\n  return {type: Types.PROFILE_MOVIE_RATE_SUCCESS};\n}\n\nexport function profileRateMovieFailure() {\n  return {type: Types.PROFILE_MOVIE_RATE_FAILURE};\n}\n\nexport function profileDeleteMovieRating(id) {\n  return {type: Types.PROFILE_MOVIE_DELETE_RATING, id};\n}\n\nexport function profileDeleteMovieRatingSuccess() {\n  return {type: Types.PROFILE_MOVIE_DELETE_RATING_SUCCESS};\n}\n\nexport function profileDeleteMovieRatingFailure() {\n  return {type: Types.PROFILE_MOVIE_DELETE_RATING_FAILURE};\n}\n\nexport function getProfileRecommendations(id) {\n  return {type: Types.PROFILE_GET_RECOMMENDATIONS, id};\n}\n\nexport function getProfileRecommendationsSuccess(payload) {\n  return {type: Types.PROFILE_GET_RECOMMENDATIONS_SUCCESS, payload};\n}\n\nexport function getProfileRecommendationsFailure() {\n  return {type: Types.PROFILE_GET_RECOMMENDATIONS_FAILURE};\n}\n","export const PROFILE_GET = 'PROFILE_GET';\nexport const PROFILE_GET_SUCCESS = 'PROFILE_GET_SUCCESS';\nexport const PROFILE_GET_FAILURE = 'PROFILE_GET_FAILURE';\n\nexport const PROFILE_CREATE = 'PROFILE_CREATE';\nexport const PROFILE_CREATE_SUCCESS = 'PROFILE_CREATE_SUCCESS';\nexport const PROFILE_CREATE_FAILURE = 'PROFILE_CREATE_FAILURE';\nexport const PROFILE_CREATE_INIT = 'PROFILE_CREATE_INIT';\n\nexport const PROFILE_GET_RATINGS = 'PROFILE_GET_RATINGS';\nexport const PROFILE_GET_RATINGS_SUCCESS = 'PROFILE_GET_RATINGS_SUCCESS';\nexport const PROFILE_GET_RATINGS_FAILURE = 'PROFILE_GET_RATINGS_FAILURE';\n\nexport const PROFILE_MOVIE_RATE = 'PROFILE_MOVIE_RATE';\nexport const PROFILE_MOVIE_RATE_SUCCESS = 'PROFILE_MOVIE_RATE_SUCCESS';\nexport const PROFILE_MOVIE_RATE_FAILURE = 'PROFILE_MOVIE_RATE_FAILURE';\n\nexport const PROFILE_MOVIE_DELETE_RATING = 'PROFILE_MOVIE_DELETE_RATING';\nexport const PROFILE_MOVIE_DELETE_RATING_SUCCESS = 'PROFILE_MOVIE_DELETE_RATING_SUCCESS';\nexport const PROFILE_MOVIE_DELETE_RATING_FAILURE = 'PROFILE_MOVIE_DELETE_RATING_FAILURE';\n\nexport const PROFILE_GET_RECOMMENDATIONS = 'PROFILE_GET_RECOMMENDATIONS';\nexport const PROFILE_GET_RECOMMENDATIONS_SUCCESS = 'PROFILE_GET_RECOMMENDATIONS_SUCCESS';\nexport const PROFILE_GET_RECOMMENDATIONS_FAILURE = 'PROFILE_GET_RECOMMENDATIONS_FAILURE';","import {all, call, put, takeEvery} from 'redux-saga/effects';\nimport AuthApi from '../../api/AuthApi';\nimport * as Actions from '../actions/AuthActions';\nimport * as ProfileActions from '../actions/ProfileActions';\nimport * as Types from '../actions/AuthActionTypes';\nimport UserSession from '../../UserSession';\n\nexport default function* authFlow() {\n  yield all([\n    takeEvery(Types.LOGIN, login),\n    takeEvery(Types.LOGOUT, logout)\n  ]);\n}\n\nfunction* login(action) {\n  var {username, password} = action;\n  try {\n    const response = yield call(AuthApi.login, username, password);\n    UserSession.setToken(response.token);\n\n    yield put(Actions.loginSuccess(response.token));\n    yield put(ProfileActions.getProfile());\n  }\n  catch (error) {\n    yield put(Actions.loginFailure(error));\n  }\n}\n\nfunction* logout() {\n  yield UserSession.setToken(null);\n}\n","import settings from '../config/settings';\nimport axios from './axios';\n\nconst {apiBaseURL} = settings;\n\nexport default class ProfileApi {\n\n  static getProfile() {\n    return axios.get(`${apiBaseURL}/users/me`);\n  }\n\n  static getProfileRatings() {\n    return axios.get(`${apiBaseURL}/movies/rated`);\n  }\n\n  static getProfileRecommendations() {\n    return axios.get(`${apiBaseURL}/movies/recommended`);\n  }\n}\n","import settings from '../config/settings';\nimport axios from './axios';\nimport _ from 'lodash';\n\nconst {apiBaseURL} = settings;\n\nexport default class MoviesApi {\n  static getGenres() {\n    return axios.get(`${apiBaseURL}/genres`);\n  }\n\n  static getMoviesByGenres(genreNames) {\n    return MoviesApi.getGenres()\n      .then(genres => {\n        var movieGenres = _.filter(genres, g => {\n          return genreNames.indexOf(g.name) > -1;\n        });\n\n        return Promise.all(\n          movieGenres.map(genre => {\n              return axios.get(`${apiBaseURL}/movies/genre/${genre.id}/`);\n            }\n          ))\n          .then(genreResults => {\n            var result = {};\n            genreResults.forEach((movies, i) => {\n              result[movieGenres[i].name] = movies;\n            });\n\n            return result;\n          });\n      });\n  }\n\n  // convert this to top 3 most rated movies\n  static getFeaturedMovies() {\n    return Promise.all([\n      axios.get(`${apiBaseURL}/movies/13380`),\n      axios.get(`${apiBaseURL}/movies/15292`),\n      axios.get(`${apiBaseURL}/movies/11398`)\n    ]);\n  }\n\n  static getMovie(id) {\n      return axios.get(`${apiBaseURL}/movies/${id}`);\n  }\n\n  static rateMovie(id, rating) {\n    return axios.post(`${apiBaseURL}/movies/${id}/rate`, {rating});\n  }\n\n  static deleteRating(id) {\n    return axios.delete(`${apiBaseURL}/movies/${id}/rate`);\n  }\n}\n\n\n","import {all, call, put, takeEvery} from 'redux-saga/effects';\nimport ProfileApi from '../../api/ProfileApi';\nimport MoviesApi from '../../api/MoviesApi';\nimport * as Actions from '../actions/ProfileActions';\nimport * as Types from '../actions/ProfileActionTypes';\n\nexport default function* profileFlow() {\n  yield all([\n    takeEvery(Types.PROFILE_GET, getProfile),\n    takeEvery(Types.PROFILE_GET_RATINGS, getProfileRatings),\n    takeEvery(Types.PROFILE_MOVIE_RATE, profileRateMovie),\n    takeEvery(Types.PROFILE_MOVIE_DELETE_RATING, profileDeleteRating),\n    takeEvery(Types.PROFILE_GET_RECOMMENDATIONS, getProfileRecommendations)\n  ]);\n}\n\nfunction* getProfile() {\n  try {\n    const response = yield call(ProfileApi.getProfile);\n    yield put(Actions.getProfileSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getProfileFailure(error));\n  }\n}\n\nfunction* getProfileRatings() {\n  try {\n    const response = yield call(ProfileApi.getProfileRatings);\n    yield put(Actions.getProfileRatingsSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getProfileRatingsFailure(error));\n  }\n}\n\nfunction* profileRateMovie(action) {\n  var {id, rating} = action;\n  try {\n    const response = yield call(MoviesApi.rateMovie, id, rating);\n    yield put(Actions.profileRateMovieSuccess(response));\n    yield put(Actions.getProfileRatings());\n  }\n  catch (error) {\n    yield put(Actions.profileRateMovieFailure(error));\n  }\n}\n\nfunction* profileDeleteRating(action) {\n  var {id} = action;\n  try {\n    const response = yield call(MoviesApi.deleteRating, id);\n    yield put(Actions.profileDeleteMovieRatingSuccess(response));\n    yield put(Actions.getProfileRatings());\n  }\n  catch (error) {\n    yield put(Actions.profileDeleteMovieRatingFailure(error));\n  }\n}\n\nfunction* getProfileRecommendations() {\n  try {\n    const response = yield call(ProfileApi.getProfileRecommendations);\n    yield put(Actions.getProfileRecommendationsSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getProfileRecommendationsFailure(error));\n  }\n}\n","import {all, call, put, takeEvery} from 'redux-saga/effects';\nimport AuthApi from '../../api/AuthApi';\nimport * as Actions from '../actions/ProfileActions';\nimport * as Types from '../actions/ProfileActionTypes';\nimport * as AuthActions from '../actions/AuthActions';\nimport { push } from 'connected-react-router'\n\nexport default function* signupFlow() {\n  yield all([\n    takeEvery(Types.PROFILE_CREATE, createProfile),\n  ]);\n}\n\nfunction* createProfile(action) {\n  var {payload} = action;\n\n  try {\n    const response = yield call(AuthApi.register, payload);\n    yield put(Actions.createProfileSuccess(response));\n    yield put(AuthActions.login(payload.username, payload.password));\n    yield put(push('/signup-status'));\n  }\n  catch (error) {\n    yield put(Actions.createProfileFailure(error));\n  }\n}\n\n","import * as Types from './MovieActionTypes';\n\nexport function clearMovie() {\n  return {type: Types.MOVIE_DETAIL_CLEAR};\n}\n\nexport function getGenres() {\n  return {type: Types.MOVIE_GENRES_GET_REQUEST};\n}\n\nexport function getGenresSuccess(genres) {\n  return {type: Types.MOVIE_GENRES_GET_SUCCESS, genres};\n}\n\nexport function getGenresFailure(error) {\n  return {type: Types.MOVIE_GENRES_GET_FAILURE, error};\n}\n\nexport function getMoviesByGenres(names) {\n  return {type: Types.MOVIES_BY_GENRES_GET_REQUEST, names};\n}\n\nexport function getMoviesByGenresSuccess(response) {\n  return {type: Types.MOVIES_BY_GENRES_GET_SUCCESS, response};\n}\n\nexport function getMoviesByGenresFailure(error) {\n  return {type: Types.MOVIES_BY_GENRES_GET_FAILURE, error};\n}\n\nexport function getFeaturedMovies() {\n  return {type: Types.MOVIES_FEATURED_GET_REQUEST};\n}\n\nexport function getFeaturedMoviesSuccess(response) {\n  return {type: Types.MOVIES_FEATURED_GET_SUCCESS, response};\n}\n\nexport function getFeaturedMoviesFailure(error) {\n  return {type: Types.MOVIES_FEATURED_GET_FAILURE, error};\n}\n\nexport function getMovie(id) {\n  return {type: Types.MOVIE_DETAIL_GET_REQUEST, id};\n}\n\nexport function getMovieSuccess(response) {\n  return {type: Types.MOVIE_DETAIL_GET_SUCCESS, response};\n}\n\nexport function getMovieFailure(error) {\n  return {type: Types.MOVIE_DETAIL_GET_FAILURE, error};\n}\n\nexport function rateMovie(id, rating) {\n  return {type: Types.MOVIE_RATE, id, rating};\n}\n\nexport function rateMovieSuccess() {\n  return {type: Types.MOVIE_RATE_SUCCESS};\n}\n\nexport function rateMovieFailure() {\n  return {type: Types.MOVIE_RATE_FAILURE};\n}\n\nexport function deleteMovieRating(id) {\n  return {type: Types.MOVIE_DELETE_RATING, id};\n}\n\nexport function deleteMovieRatingSuccess() {\n  return {type: Types.MOVIE_DELETE_RATING_SUCCESS};\n}\n\nexport function deleteMovieRatingFailure() {\n  return {type: Types.MOVIE_DELETE_RATING_FAILURE};\n}\n","export const MOVIE_GENRES_GET_REQUEST = 'MOVIE_GENRES_GET_REQUEST';\nexport const MOVIE_GENRES_GET_SUCCESS = 'MOVIE_GENRES_GET_SUCCESS';\nexport const MOVIE_GENRES_GET_FAILURE = 'MOVIE_GENRES_GET_FAILURE';\n\nexport const MOVIES_BY_GENRES_GET_REQUEST = 'MOVIES_BY_GENRES_GET_REQUEST';\nexport const MOVIES_BY_GENRES_GET_SUCCESS = 'MOVIES_BY_GENRES_GET_SUCCESS';\nexport const MOVIES_BY_GENRES_GET_FAILURE = 'MOVIES_BY_GENRES_GET_FAILURE';\n\nexport const MOVIES_FEATURED_GET_REQUEST = 'MOVIES_FEATURED_GET_REQUEST';\nexport const MOVIES_FEATURED_GET_SUCCESS = 'MOVIES_FEATURED_GET_SUCCESS';\nexport const MOVIES_FEATURED_GET_FAILURE = 'MOVIES_FEATURED_GET_FAILURE';\n\nexport const MOVIE_DETAIL_CLEAR = 'MOVIE_DETAIL_CLEAR';\nexport const MOVIE_DETAIL_GET_REQUEST = 'MOVIE_DETAIL_GET_REQUEST';\nexport const MOVIE_DETAIL_GET_SUCCESS = 'MOVIE_DETAIL_GET_SUCCESS';\nexport const MOVIE_DETAIL_GET_FAILURE = 'MOVIE_DETAIL_GET_FAILURE';\n\nexport const MOVIE_RATE = 'MOVIE_RATE';\nexport const MOVIE_RATE_SUCCESS = 'MOVIE_RATE_SUCCESS';\nexport const MOVIE_RATE_FAILURE = 'MOVIE_RATE_FAILURE';\n\nexport const MOVIE_DELETE_RATING = 'MOVIE_DELETE_RATING';\nexport const MOVIE_DELETE_RATING_SUCCESS = 'MOVIE_DELETE_RATING_SUCCESS';\nexport const MOVIE_DELETE_RATING_FAILURE = 'MOVIE_DELETE_RATING_FAILURE';","import {all, call, put, takeEvery} from 'redux-saga/effects';\nimport MoviesApi from '../../api/MoviesApi';\nimport * as Actions from '../actions/MovieActions';\nimport * as Types from '../actions/MovieActionTypes';\n\nexport default function* movieFlow() {\n  yield all([\n    takeEvery(Types.MOVIE_GENRES_GET_REQUEST, getGenres),\n    takeEvery(Types.MOVIES_BY_GENRES_GET_REQUEST, getMoviesByGenre),\n    takeEvery(Types.MOVIES_FEATURED_GET_REQUEST, getFeaturedMovies),\n    takeEvery(Types.MOVIE_DETAIL_GET_REQUEST, getMovie),\n    takeEvery(Types.MOVIE_RATE, rateMovie),\n    takeEvery(Types.MOVIE_DELETE_RATING, deleteRating),\n  ]);\n}\n\nfunction* getGenres() {\n  try {\n    const response = yield call(MoviesApi.getGenres);\n    yield put(Actions.getGenresSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getGenresFailure(error));\n  }\n}\n\nfunction* getMoviesByGenre(action) {\n  var {names} = action;\n  try {\n    const response = yield call(MoviesApi.getMoviesByGenres, names);\n    yield put(Actions.getMoviesByGenresSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getMoviesByGenresFailure(error));\n  }\n}\n\nfunction* getFeaturedMovies() {\n  try {\n    const response = yield call(MoviesApi.getFeaturedMovies);\n    yield put(Actions.getFeaturedMoviesSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getFeaturedMoviesFailure(error));\n  }\n}\n\nfunction* getMovie(action) {\n  var {id} = action;\n  try {\n    const response = yield call(MoviesApi.getMovie, id);\n    yield put(Actions.getMovieSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getMovieFailure(error));\n  }\n}\n\nfunction* rateMovie(action) {\n  var {id, rating} = action;\n  try {\n    const response = yield call(MoviesApi.rateMovie, id, rating);\n    yield put(Actions.rateMovieSuccess(response));\n    yield put(Actions.getMovie(id));\n  }\n  catch (error) {\n    yield put(Actions.rateMovieFailure(error));\n  }\n}\n\nfunction* deleteRating(action) {\n  var {id} = action;\n  try {\n    const response = yield call(MoviesApi.deleteRating, id);\n    yield put(Actions.deleteMovieRatingSuccess(response));\n    yield put(Actions.getMovie(id));\n  }\n  catch (error) {\n    yield put(Actions.deleteMovieRatingFailure(error));\n  }\n}\n","import settings from '../config/settings';\nimport axios from './axios';\n\nconst {apiBaseURL} = settings;\n\nexport default class PersonApi {\n  static getPerson(id) {\n    return axios.get(`${apiBaseURL}/people/${id}`);\n  }\n}\n\n\n","import * as Types from './PersonActionTypes';\n\nexport function clearPerson() {\n  return {\n    type: Types.PERSON_DETAIL_CLEAR\n  };\n}\n\nexport function getPerson(id) {\n  return {type: Types.PERSON_DETAIL_GET_REQUEST, id};\n}\n\nexport function getPersonSuccess(response) {\n  return {type: Types.PERSON_DETAIL_GET_SUCCESS, response};\n}\n\nexport function getPersonFailure(error) {\n  return {type: Types.PERSON_DETAIL_GET_FAILURE, error};\n}\n\nexport function getRelated(id) {\n  return {type: Types.PERSON_RELATED_GET_REQUEST, id};\n}\n\nexport function getRelatedSuccess(response) {\n  return {type: Types.PERSON_RELATED_GET_SUCCESS, response};\n}\n\nexport function getRelatedFailure(error) {\n  return {type: Types.PERSON_RELATED_GET_FAILURE, error};\n}\n","export const PERSON_DETAIL_CLEAR = 'PERSON_DETAIL_CLEAR';\nexport const PERSON_DETAIL_GET_REQUEST = 'PERSON_DETAIL_GET_REQUEST';\nexport const PERSON_DETAIL_GET_SUCCESS = 'PERSON_DETAIL_GET_SUCCESS';\nexport const PERSON_DETAIL_GET_FAILURE = 'PERSON_DETAIL_GET_FAILURE';\nexport const PERSON_RELATED_GET_REQUEST = 'PERSON_RELATED_GET_REQUEST';\nexport const PERSON_RELATED_GET_SUCCESS = 'PERSON_RELATED_GET_SUCCESS';\nexport const PERSON_RELATED_GET_FAILURE = 'PERSON_RELATED_GET_FAILURE';","import {all, call, put, takeEvery} from 'redux-saga/effects';\nimport PersonApi from '../../api/PersonApi';\nimport * as Actions from '../actions/PersonActions';\nimport * as Types from '../actions/PersonActionTypes';\n\nexport default function* movieFlow() {\n  yield all([\n    takeEvery(Types.PERSON_DETAIL_GET_REQUEST, getPerson),\n    takeEvery(Types.PERSON_RELATED_GET_REQUEST, getRelated)\n  ]);\n}\n\nfunction* getPerson(action) {\n  var {id} = action;\n  try {\n    const response = yield call(PersonApi.getPerson, id);\n    yield put(Actions.getPersonSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getPersonFailure(error));\n  }\n}\n\nfunction* getRelated(action) {\n  var {id} = action;\n  try {\n    const response = yield call(PersonApi.getRelated, id);\n    yield put(Actions.getRelatedSuccess(response));\n  }\n  catch (error) {\n    yield put(Actions.getRelatedFailure(error));\n  }\n}\n","import {all, fork} from 'redux-saga/effects';\nimport errorFlow from './errorFlow';\nimport authFlow from './authFlow';\nimport profileFlow from './profileFlow';\nimport signupFlow from './signupFlow';\nimport movieFlow from './movieFlow';\nimport personFlow from './personFlow';\n\nexport default function* root() {\n  yield all([\n    fork(errorFlow),\n    fork(authFlow),\n    fork(profileFlow),\n    fork(signupFlow),\n    fork(movieFlow),\n    fork(personFlow)\n  ]);\n}\n","import _ from 'lodash';\nimport { NotificationActionTypes } from '../actions/NotificationActionTypes';\n\nexport default function notifications(state = [], action) {\n  switch (action.type) {\n    case NotificationActionTypes.CREATE_NOTIFICATION:\n      return [\n        ...state,\n        {...action.notification}\n      ];\n    case NotificationActionTypes.DISMISS_NOTIFICATION:\n      return _.without(state, action.notification);\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport humps from 'humps';\n\nexport default class ErrorUtils {\n  static getApiErrors(apiError) {\n    return humps.camelizeKeys(_.get(apiError, 'data', {})); \n  }\n}\n","import * as Types from '../actions/AuthActionTypes';\nimport UserSession from '../../UserSession';\nimport ErrorUtils from '../../utils/ErrorUtils';\n\nexport default function auth(state = getInitialState(), action) {\n  switch (action.type) {\n    case Types.LOGIN:\n      return {\n        ...state,\n        isFetching: true,\n        errors: {}\n      };\n    case Types.LOGIN_SUCCESS:\n      return {\n        ...getInitialState(),\n        token: action.token\n      };\n    case Types.LOGIN_FAILURE:\n      return {\n        ...state,\n        isFetching: false,\n        errors: ErrorUtils.getApiErrors(action.error),\n      };\n    case Types.LOGOUT:\n      return {\n        ...state,\n        token: null\n      };\n    default:\n      return state;\n  }\n}\n\nfunction getInitialState() {\n  return {\n    isFetching: false,\n    errors: {},\n    token: UserSession.getToken()\n  };\n}\n\n","import * as Types from '../actions/ProfileActionTypes';\nimport ErrorUtils from '../../utils/ErrorUtils';\n\nfunction getInitialState() {\n  return {\n    isSaving: false,\n    savedProfile: null,\n    errors: {}\n  };\n}\n\nexport default function createProfile(state = getInitialState(), action) {\n  switch (action.type) {\n    case Types.PROFILE_CREATE_INIT:\n      return getInitialState();\n    case Types.PROFILE_CREATE:\n      return {\n        ...state,\n        isSaving: true\n      };\n    case Types.PROFILE_CREATE_SUCCESS:\n      return {\n        ...state,\n        isSaving: false,\n        savedProfile: action.payload\n      };\n    case Types.PROFILE_CREATE_FAILURE:\n      return {\n        isSaving: false,\n        savedProfile: null,\n        errors: ErrorUtils.getApiErrors(action.error)\n      };\n    default:\n      return state;\n  }\n}\n","import * as Types from '../actions/ProfileActionTypes';\nimport {LOGOUT} from '../actions/AuthActionTypes';\n\nexport default function profile(state = getInitialState(null), action) {\n  switch (action.type) {\n    case LOGOUT:\n      return getInitialState();\n    default:\n      return state;\n    case Types.PROFILE_GET:\n    case Types.PROFILE_GET_RATINGS:\n    case Types.PROFILE_GET_RECOMMENDATIONS:\n      return {\n        ...state,\n        isFetching: true\n      };\n    case Types.PROFILE_GET_FAILURE:\n    case Types.PROFILE_GET_RATINGS_FAILURE:\n    case Types.PROFILE_GET_RECOMMENDATIONS_FAILURE:\n      return {\n        ...state,\n        isFetching: false\n      };\n    case Types.PROFILE_GET_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        profile: action.payload\n      };\n    case Types.PROFILE_GET_RATINGS_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        ratedMovies: action.payload\n      };\n    case Types.PROFILE_GET_RECOMMENDATIONS_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        recommendedMovies: action.payload\n      };\n  }\n}\n\nfunction getInitialState() {\n  return {\n    isFetching: false,\n    profile: null,\n    ratedMovies: [],\n    recommendedMovies: []\n  };\n}\n","import { MOVIE_GENRES_GET_REQUEST, MOVIE_GENRES_GET_SUCCESS } from '../actions/MovieActionTypes';\n\nconst initialState = {\n  isFetching: false,\n  items: []\n};\n\nexport default function genres(state = initialState, action) {\n  switch (action.type) {\n    case MOVIE_GENRES_GET_REQUEST:\n      return  {\n        ...state,\n        isFetching: true\n      };\n    case MOVIE_GENRES_GET_SUCCESS:\n      return  {\n        ...state,\n        isFetching: false,\n        items: action.genres\n      };\n    default:\n      return state;\n  }\n}\n","import * as Types from '../actions/MovieActionTypes';\n\nconst initialState = {\n  isFetchingFeatured: false,\n  isFetchingByGenre: false,\n  isFetching: false,\n  featured: [],\n  byGenre: {},\n  detail: null\n};\n\nexport default function movies(state = initialState, action) {\n  switch (action.type) {\n    case Types.MOVIES_FEATURED_GET_REQUEST:\n      return  {\n        ...state,\n        isFetchingFeatured: true,\n        isFetching: true\n      };\n    case Types.MOVIES_FEATURED_GET_SUCCESS:\n      return  {\n        ...state,\n        isFetchingFeatured: false,\n        isFetching: getIsFetching(false),\n        featured: action.response\n      };\n    case Types.MOVIES_BY_GENRES_GET_REQUEST:\n      return  {\n        ...state,\n        isFetchingByGenre: true,\n        isFetching: true\n      };\n    case Types.MOVIES_BY_GENRES_GET_SUCCESS:\n      return  {\n        ...state,\n        isFetchingByGenre: false,\n        isFetching: getIsFetching(false),\n        byGenre: action.response\n      };\n    case Types.MOVIE_DETAIL_GET_REQUEST:\n      return  {\n        ...state,\n        isFetching: true\n      };\n    case Types.MOVIE_DETAIL_GET_SUCCESS:\n      return  {\n        ...state,\n        isFetching: false,\n        detail: action.response\n      };\n    case Types.MOVIE_DETAIL_CLEAR:\n      return  {\n        ...state,\n        detail: null\n      };\n    default:\n      return state;\n  }\n}\n\nfunction getIsFetching(state, isFetching) {\n  return (state.isFetchingByGenre || state.isFetchingFeatured || isFetching);\n}\n","import * as Types from '../actions/PersonActionTypes';\n\nconst initialState = {\n  isFetching: false,\n  isFetchingRelated: false,\n  detail: null,\n  related: []\n};\n\nexport default function person(state = {...initialState}, action) {\n  switch (action.type) {\n    case Types.PERSON_DETAIL_GET_REQUEST:\n      return  {\n        ...state,\n        isFetching: true\n      };\n    case Types.PERSON_DETAIL_GET_SUCCESS:\n      return  {\n        ...state,\n        isFetching: false,\n        detail: action.response\n      };\n    case Types.PERSON_DETAIL_CLEAR:\n      return  {\n        ...initialState\n      };\n    case Types.PERSON_RELATED_GET_REQUEST:\n      return  {\n        ...state,\n        isFetchingRelated: true\n      };\n    case Types.PERSON_RELATED_GET_SUCCESS:\n      return  {\n        ...state,\n        isFetchingRelated: false,\n        related: action.response.related\n      };\n\n    default:\n      return state;\n  }\n}\n","import {combineReducers} from 'redux';\nimport { connectRouter } from 'connected-react-router'\nimport notifications from './notifications';\nimport auth from './auth';\nimport signup from './signup';\nimport profile from './profile';\nimport genres from './genres';\nimport movies from './movies';\nimport person from './person';\n\nconst createRootReducer = (history) => combineReducers({\n  router: connectRouter(history),\n  notifications,\n  auth,\n  signup,\n  profile,\n  genres,\n  movies,\n  person\n});\n\nexport default createRootReducer;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {logout} from '../redux/actions/AuthActions';\nimport {connect} from 'react-redux';\nimport _ from 'lodash';\nimport logoImg from '../assets/logo.png';\n\nclass Header extends React.Component {\n  render() {\n    var {props} = this;\n    var profile = _.get(props, 'profile');\n    var isLoggedIn = !!_.get(props, 'auth.token');\n\n    return (\n      <nav className=\"nt-app-header\">\n        <div className=\"nt-app-header-logo\">\n          <Link to=\"/\">\n            <img src={logoImg} alt=\"\" />\n          </Link>\n        </div>\n        <ul className=\"nt-app-header-links\">\n          <li>\n            <a className=\"nt-app-header-link\"\n               href=\"https://github.com/neo4j-examples/neo4j-movies-template\"\n               target=\"_blank\"\n               rel=\"noopener noreferrer\">\n              GitHub Project\n            </a>\n          </li>\n        </ul>\n        <div className=\"nt-app-header-profile-links\">\n          <div className=\"right\">\n            {\n              profile ?\n                <div className=\"nt-app-header-avatar\" style={this.getAvatarStyle(profile)}>\n                  <Link to=\"/profile\" title={`profile: ${profile.username}`}/>\n                </div>\n                : null\n            }\n            <div className=\"log-container\">\n              {isLoggedIn ? <button onClick={this.logout.bind(this)} className=\"buttonLink logout\">Log out</button> : <Link to=\"/login\">Log in</Link>}\n            </div>\n            <div>\n              {isLoggedIn ? null : <Link to=\"/signup\">Sign up</Link>}\n            </div>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n\n  getAvatarStyle(profile) {\n    return {background: `url(${_.get(profile, 'avatar.fullSize')}) center`};\n  }\n\n  logout() {\n    this.props.dispatch(logout());\n  }\n}\n\nHeader.displayName = 'Header';\n\nexport default connect()(Header);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default class Breadcrumbs extends React.Component {\n  render() {\n    var {movie, person} = this.props;\n\n    return (\n      <ul className=\"breadcrumbs\">\n        <li><Link to=\"/\" className={movie ? '' : 'current'}>Home</Link></li>\n        {\n          movie ?\n            <li><Link to={`/movie/${movie.id}`} className=\"current\">{movie.title}</Link></li>\n            : null\n        }\n        {\n          person ?\n            <li><Link to={`/person/${person.id}`} className=\"current\">{person.name}</Link></li>\n            : null\n        }\n      </ul>\n    );\n  }\n}\n\nBreadcrumbs.displayName = 'Breadcrumbs';\nBreadcrumbs.propTypes = {\n  movie: PropTypes.object,\n  person: PropTypes.object\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {NotificationType} from '../../redux/actions/NotificationActionTypes';\n\nexport default class Notification extends Component {\n\n  constructor(props) {\n    super(props);\n    this.dismiss = this.dismiss.bind(this);\n  }\n\n  componentDidMount() {\n    var {notification, dismiss, timeout} = this.props;\n\n    this.dismissNotification = setTimeout(function () {\n      dismiss(notification);\n    }, timeout);\n  }\n\n  dismiss() {\n    this.props.dismiss(this.props.notification);\n    clearTimeout(this.dismissNotification);\n  }\n\n  render() {\n    var {notification} = this.props;\n\n    if (!notification) {\n      return null;\n    }\n\n    //can use enum key or value\n    var classes = NotificationType[notification.type] || notification.type;\n\n    return (\n      <div data-alert className={'alert-box ' + classes}>\n        {notification.message}\n        <button className=\"buttonLink close\" onClick={this.dismiss}>&times;</button>\n      </div>\n    );\n  }\n}\n\n\nNotification.displayName = 'Notification';\nNotification.propTypes = {\n  notification: PropTypes.object.isRequired,\n  timeout: PropTypes.number,\n  dismiss: PropTypes.func\n};\nNotification.defaultProps = {\n  timeout: 6000\n};\n","import React from 'react';\nimport Notification from './Notification.jsx';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as NotificationActions from '../../redux/actions/NotificationActions';\n\nconst NotificationContainer = ({dismiss, notifications}) => {\n    return (\n      <div className=\"notification-container\">\n        {\n          notifications.map((notification, index) => <Notification key={index} notification={notification} dismiss={dismiss}/>)\n        }\n      </div>\n    );\n};\n\nNotificationContainer.displayName = 'NotificationContainer';\n\nfunction mapStateToProps(state) {\n  return {\n    notifications: state.notifications\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(NotificationActions, dispatch);\n}\n\n// Wrap the component to inject dispatch and state into it\nexport default connect(mapStateToProps, mapDispatchToProps)(NotificationContainer);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\nimport Header from '../components/Header.jsx';\nimport {getProfile} from '../redux/actions/ProfileActions';\nimport UserSession from '../UserSession';\n// import Footer from '../components/Footer.jsx';\nimport Breadcrumbs from '../components/Breadcrumbs.jsx';\nimport NotificationContainer from '../components/common/NotificationContainer.jsx';\n\nimport { connect } from 'react-redux';\nimport \"../styles/main.scss\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    if (UserSession.getToken() && !this.props.profile) {\n      this.props.dispatch(getProfile());\n    }\n  }\n\n  render() {\n    var {auth, profile, movie, person} = this.props;\n\n    return (\n      <div className=\"nt-app\">\n        <Header auth={auth}\n                profile={profile}/>\n        <Breadcrumbs movie={movie}\n                     person={person}/>\n        <div className=\"nt-app-page\">\n          {this.props.children}\n        </div>\n        {/*<Footer />*/}\n        <NotificationContainer />\n      </div>\n    );\n  }\n}\n\nApp.displayName = 'App';\nApp.propTypes = {\n  movie: PropTypes.object,\n  person: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n  return {\n    movie: state.movies.detail,\n    person: state.person.detail,\n    auth: state.auth,\n    profile: _.get(state.profile, 'profile', null)\n  };\n}\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\n\nexport default class Loading extends React.Component {\n\n  render() {\n    return (\n      <div className=\"sk-spinner sk-spinner-chasing-dots\">\n        <div className=\"sk-dot1\"></div>\n        <div className=\"sk-dot2\"></div>\n      </div>\n    );\n  }\n\n}\n\nLoading.displayName = 'Loading';\n","import React from 'react';\n\nexport default class Carousel extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      startIndex: 0,\n      visibleCount: 0\n    };\n\n    this.onWidthChange = this.onWidthChange.bind(this);\n  }\n\n  componentDidMount() {\n    if (matchMedia) {\n      var mq = window.matchMedia('(max-width: 600px)');\n      mq.addListener(this.onWidthChange);\n      this.onWidthChange(mq);\n    }\n  }\n\n  onWidthChange(mq) {\n    if (mq.matches) {\n      this.setState({visibleCount: 2});\n    } else {\n      this.setState({visibleCount: 5});\n    }\n  }\n\n  render() {\n    var {children} = this.props;\n    var {startIndex, visibleCount} = this.state;\n\n    return (\n      <div className=\"nt-carousel\" ref=\"root\">\n        <button\n          className=\"buttonLink nt-carousel-right\"\n          onClick={this.onRightClick.bind(this)}><span className=\"nt-carousel-arrow\">&#10097;</span></button>\n        <button\n          className=\"buttonLink nt-carousel-left\"\n          onClick={this.onLeftClick.bind(this)}><span className=\"nt-carousel-arrow\">&#10096;</span></button>\n        <ul className=\"nt-carousel-list\" ref=\"list\">\n          {\n            React.Children.map(children, (c, i) => {\n              var style = {\n                width: (100 / visibleCount).toFixed(0) + '%',\n                display: (i >= startIndex && i - startIndex < visibleCount) ? 'inline-block' : 'none'\n              };\n\n              return (\n                <li key={i} className=\"nt-carousel-item\" style={style}>\n                  {c}\n                </li>);\n            })\n          }\n        </ul>\n      </div>\n    );\n  }\n\n  onRightClick(e) {\n    e.preventDefault();\n    var {startIndex, visibleCount} = this.state;\n\n    if(startIndex + visibleCount < React.Children.count(this.props.children)) {\n      this.setState({startIndex: startIndex + 1});\n    }\n  }\n\n  onLeftClick(e) {\n    e.preventDefault();\n    var {startIndex} = this.state;\n\n    if (startIndex > 0) {\n      this.setState({startIndex: startIndex - 1});\n    }\n  }\n}\n\nCarousel.displayName = 'Carousel';\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Loading from '../components/Loading.jsx';\nimport Carousel from '../components/Carousel.jsx';\nimport _ from 'lodash';\n\nimport * as MovieActions from '../redux/actions/MovieActions';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.renderFeatured = this.renderFeatured.bind(this);\n    this.renderByGenre = this.renderByGenre.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.getFeaturedMovies();\n    this.props.getMoviesByGenres(['Adventure', 'Drama']);\n  }\n\n  render() {\n    var {movies} = this.props;\n    return (\n      <div className=\"nt-home\">\n        <div className=\"row\">\n          <div className=\"large-12 columns\">\n            {movies.isFetching ? <Loading/> : null}\n            {this.renderFeatured()}\n          </div>\n          <div className=\"large-12 columns\">\n            {this.renderByGenre('Adventure')}\n            {this.renderByGenre('Drama')}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderFeatured() {\n    var {movies} = this.props;\n\n    return (\n      <div className=\"nt-home-featured\">\n        <h3 className=\"nt-home-header\">Featured Movies</h3>\n        <ul>\n          { _.compact(movies.featured).map(f => {\n            return (\n              <li key={f.id}>\n                <Link to={`/movie/${f.id}`}>\n                  <img src={f.posterImage} alt=\"\" />\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n\n  renderByGenre(name) {\n    var {movies} = this.props;\n    var moviesByGenre = movies.byGenre[name];\n\n    if (_.isEmpty(moviesByGenre)) {\n      return null;\n    }\n\n    return (\n      <div className=\"nt-home-by-genre\">\n        <div className=\"nt-box\">\n          <div className=\"nt-box-title\">\n            {name}\n          </div>\n          <Carousel>\n            { moviesByGenre.map(m => {\n              return (\n                <div key={m.id}>\n                  <Link to={`/movie/${m.id}`}>\n                    <img src={m.posterImage} alt=\"\" />\n                  </Link>\n                  <div className=\"nt-carousel-movie-title\">\n                    <Link to={`/movie/${m.id}`}>{m.title}</Link>\n                  </div>\n                </div>\n              );\n            })}\n          </Carousel>\n        </div>\n      </div>);\n  }\n}\nHome.displayName = 'Home';\n\nfunction mapStateToProps(state) {\n  return {\n    genres: state.genres.items,\n    movies: state.movies\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(MovieActions, dispatch);\n}\n\n// Wrap the component to inject dispatch and state into it\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst minRating = 1;\nconst maxRating = 5;\n\nexport default class UserRating extends React.Component {\n  render() {\n    var stars = [];\n    var {movieId, savedRating} = this.props;\n\n    for (let i = minRating; i <= maxRating; i++) {\n      stars.push(this.renderStar(!savedRating || i > savedRating, movieId, i));\n    }\n\n    return (\n      <span className=\"nt-user-rating\">\n        {stars}\n        {\n          savedRating ?\n            <button\n               onClick={this.onDeleteRatingClick.bind(this, movieId)}\n               className=\"buttonLink nt-user-rating-delete\">\n              Unrate\n            </button>\n            :\n            null\n        }\n      </span>\n    );\n  }\n\n  renderStar(isEmpty, movieId, rating) {\n    return (\n      <button key={rating}\n         className=\"buttonLink nt-user-rating-star\"\n         onClick={this.onRateClick.bind(this, movieId, rating)}>\n        {isEmpty ? '\\u2606' : '\\u2605'}\n      </button>);\n  }\n\n  onRateClick(movieId, rating, e) {\n    e.preventDefault();\n    this.props.onSubmitRating(movieId, rating);\n  }\n\n  onDeleteRatingClick(movieId, e) {\n    e.preventDefault();\n    this.props.onDeleteRating(movieId);\n  }\n}\n\nUserRating.propTypes = {\n  movieId: PropTypes.number.isRequired,\n  savedRating: PropTypes.number,\n  onSubmitRating: PropTypes.func.isRequired,\n  onDeleteRating: PropTypes.func.isRequired\n};\n\nUserRating.displayName = 'UserRating';\n\n","import React from 'react';\nimport _ from 'lodash';\nimport Loading from '../components/Loading.jsx';\nimport Carousel from '../components/Carousel.jsx';\nimport UserRating from '../components/UserRating.jsx';\nimport {Link} from 'react-router-dom';\nimport * as MovieActions from '../redux/actions/MovieActions';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\n\nclass Movie extends React.Component {\n  componentDidMount() {\n    var {id} = this.props.match.params;\n    this.props.getMovie(id);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      this.props.clearMovie();\n\n      var {id} = this.props.match.params;\n      this.props.getMovie(id);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.clearMovie();\n  }\n\n  render() {\n    var {isFetching, movie, rateMovie, deleteMovieRating, profile} = this.props;\n\n    return (\n      <div className=\"nt-movie\">\n        {isFetching ? <Loading/> : null}\n        {movie ?\n          <div>\n            <div className=\"row\">\n              <div className=\"large-12 columns\">\n                <h2 className=\"nt-movie-title\">{movie.title}</h2>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"small-12 medium-4 columns nt-movie-aside\">\n                <img className=\"nt-movie-poster\"\n                     src={movie.posterImage}\n                     alt=\"\" />\n                <div className=\"nt-box\">\n                  <div className=\"nt-box-title\">\n                    Storyline\n                  </div>\n                  <p className=\"nt-box-row\">\n                    <span>{movie.tagline}</span>\n                  </p>\n                </div>\n              </div>\n              <div className=\"small-12 medium-8 columns nt-movie-main\">\n                <div>\n                  {profile ?\n                    <div className=\"nt-box\">\n                      <p className=\"nt-box-row nt-movie-rating\">\n                        <strong>Your rating: </strong>\n                        <UserRating movieId={movie.id}\n                                    savedRating={movie.myRating}\n                                    onSubmitRating={rateMovie}\n                                    onDeleteRating={deleteMovieRating}/>\n                      </p>\n                    </div>\n                    :\n                    null\n                  }\n                  <div className=\"nt-box\">\n                    <div className=\"nt-box-title\">\n                      Movie Details\n                    </div>\n                    <p className=\"nt-box-row\">\n                      <strong>Year: </strong><span>{movie.released}</span>\n                    </p>\n                    <p className=\"nt-box-row\">\n                      <strong>Duration: </strong><span>{`${movie.duration} mins`}</span>\n                    </p>\n                    <p className=\"nt-box-row\">\n                      <strong>Genres: </strong>\n                      <span>{this.renderGenre(movie.genres)}</span>\n                    </p>\n                    <p className=\"nt-box-row\">\n                      <strong>Directed By: </strong>\n                      <span>{this.renderPeople(movie.directors)}</span>\n                    </p>\n                  </div>\n                  <div className=\"nt-box\">\n                    <div className=\"nt-box-title\">\n                      Cast\n                    </div>\n                    <div>{this.renderCast(movie.actors)}</div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"small-12 columns\">\n                <div className=\"nt-box\">\n                  <div className=\"nt-box-title\">\n                    Related\n                  </div>\n                  {this.renderRelatedMovies(movie.related)}\n                </div>\n              </div>\n            </div>\n          </div>\n          :\n          null\n        }\n      </div>\n    );\n  }\n\n  getKeywordsText(movie) {\n    _.filter(movie.keywords, k => {\n      return !!k.name;\n    })\n      .join(', ');\n  }\n\n  renderCast(actors) {\n    if (_.isEmpty(actors)) {\n      return null;\n    }\n\n    return (\n      <Carousel>\n        {\n          actors.map(a => {\n            return (\n              <div key={a.id}>\n                <Link to={`/person/${a.id}`}>\n                  <img src={a.posterImage} alt=\"\" />\n                </Link>\n                <div className=\"nt-carousel-actor-name\"><Link to={`/person/${a.id}`}>{a.name}</Link></div>\n                <div className=\"nt-carousel-actor-role\">{a.role}</div>\n              </div>\n            );\n          })\n        }\n      </Carousel>);\n  }\n\n  renderRelatedMovies(movies) {\n    if (_.isEmpty(movies)) {\n      return null;\n    }\n\n    return (\n      <Carousel>\n        {\n          movies.map(m => {\n            return (\n              <div key={m.id}>\n                <Link to={`/movie/${m.id}`}>\n                  <img src={m.posterImage} alt=\"\" />\n                </Link>\n                <div className=\"nt-carousel-movie-title\">\n                  <Link to={`/movie/${m.id}`}>{m.title}</Link>\n                </div>\n              </div>\n            );\n          })\n        }\n      </Carousel>);\n  }\n\n  renderPeople(people) {\n    return people.map((p, i) => {\n      return (\n        <span key={p.id}>\n        <Link to={`/person/${p.id}`}>{p.name}</Link>\n          {i < people.length - 1 ? <span>, </span> : null}\n      </span>);\n    });\n  }\n\n  renderGenre(genres) {\n    return genres.map((g, i) => {\n      return (<span key={g.id}>\n        {g.name}\n        {i < genres.length - 1 ? <span>, </span> : null}\n      </span>);\n    });\n  }\n}\nMovie.displayName = 'Movie';\n\nfunction mapStateToProps(state) {\n  return {\n    movie: state.movies.detail,\n    isFetching: state.movies.isFetching,\n    profile: _.get(state, 'profile.profile')\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(MovieActions, dispatch);\n}\n\n// Wrap the component to inject dispatch and state into it\nexport default connect(mapStateToProps, mapDispatchToProps)(Movie);\n","import React from 'react';\nimport _ from 'lodash';\nimport Loading from '../components/Loading.jsx';\nimport Carousel from '../components/Carousel.jsx';\nimport { Link } from 'react-router-dom';\nimport * as PersonActions from '../redux/actions/PersonActions';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nclass Person extends React.Component {\n  componentWillMount() {\n    var {id} = this.props.match.params;\n    this.props.getPerson(id);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.match.params.id !== this.props.match.params.id) {\n      var {id} = nextProps.match.params;\n      this.props.getPerson(id);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.clearPerson();\n  }\n\n  render() {\n    var {person} = this.props;\n    var {detail, isFetching} = person;\n\n    return (\n      <div className=\"nt-person\">\n        {isFetching ? <Loading/> : null}\n        {detail ?\n          <div>\n            <div className=\"row\">\n              <div className=\"large-12 columns\">\n                <h2 className=\"nt-person-header\">{detail.name}</h2>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"small-12 medium-3 columns nt-person-aside\">\n                <img className=\"nt-person-poster\"\n                  src={detail.posterImage}\n                  alt=\"\" />\n              </div>\n              <div className=\"small-12 medium-9 columns nt-person-main\">\n                <div>\n                  <div className=\"nt-box\">\n                    <div className=\"nt-box-title\">\n                      Bio\n                    </div>\n                  </div>\n\n                  <div className=\"nt-box\">\n                    <div className=\"nt-box-title\">\n                      Related People\n                    </div>\n                    <div className=\"nt-box-row\">\n                      {isFetching ? <Loading/> : null}\n                      {this.renderRelatedPeople(detail.related)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {this.renderRelatedMovies('Acted In', detail.actedIn)}\n            {this.renderRelatedMovies('Directed', detail.directed)}\n            {this.renderRelatedMovies('Produced', detail.produced)}\n            {this.renderRelatedMovies('Wrote', detail.wrote)}\n          </div>\n          : null\n        }\n      </div>\n    );\n  }\n\n  renderRelatedPeople(actors) {\n    return (\n      <Carousel>\n        {\n          actors.map(a => {\n            return (\n              <div key={a.id}>\n                <Link to={`/person/${a.id}`}>\n                  <img src={a.posterImage} alt=\"\" />\n                </Link>\n                <div className=\"nt-carousel-actor-name\"><Link to={`/person/${a.id}`}>{a.name}</Link></div>\n                <div className=\"nt-carousel-actor-role\">{a.role}</div>\n              </div>\n            );\n          })\n        }\n        </Carousel>\n    );\n  }\n\n  renderRelatedMovies(sectionTitle, movies) {\n    var shown = _.filter(movies, m => {\n      return !!m.name;\n    });\n\n    if (_.isEmpty(shown)) {\n      return null;\n    }\n\n    return (\n      <div className=\"row nt-person-movies\">\n        <div className=\"large-12 columns\">\n          <div className=\"nt-box\">\n            <div className=\"nt-box-title\">\n              {sectionTitle}\n            </div>\n            <Carousel>\n              {\n                movies.map(m => {\n                  return (\n                    <div key={m.id}>\n                      <Link to={`/movie/${m.id}`}>\n                        <img src={m.posterImage} alt=\"\" />\n                      </Link>\n                      <div className=\"nt-carousel-movie-title\"><Link to={`/movie/${m.id}`}>{m.name}</Link></div>\n                      {m.role ?\n                        <div className=\"nt-carousel-movie-role\">{m.role}</div>\n                        : null\n                      }\n                    </div>\n                  );\n                })\n              }\n            </Carousel>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nPerson.displayName = 'Person';\n\nfunction mapStateToProps(state) {\n  return {\n    person: state.person\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(PersonActions, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Person);\n","export default class ValidationUtils {\n  static checkEmail(email, message) {\n    var regex = /[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/igm;\n    if (email && !regex.test(email)) {\n      return message || 'Please enter a valid email address.';\n    }\n  }\n\n  static checkUrl(url, message) {\n    var regex = /^(http)s?(:\\/\\/)([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/igm;  // eslint-disable-line no-useless-escape\n    if (url && !regex.test(url)) {\n      return message || 'Please enter a valid URL. (ex. http(s)://domain.com)';\n    }\n  }\n}\n","import React from 'react'\nimport _ from 'lodash'\n\n/**\n * A higher ordered component containing boilerplate code for handling validation of internal input fields.\n *\n * About higher order components:\n * It's a way of implementing mixin-like enhancements for React components (mixins are not possible with ES6 and they have other issues)\n * Check here for more: https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750\n */\nexport const ValidatorContext = React.createContext({\n  registerValidator: () => {},\n  unregisterValidator: () => {},\n})\n\nconst ValidatedComponent = ComposedComponent => {\n  class ValidatedComponent extends React.Component {\n    constructor() {\n      super()\n      this.validators = []\n    }\n\n    getValidationFormProps() {\n      return {\n        isComponentValid: this.isValid.bind(this),\n        getValidationMessages: this.getValidationMessages.bind(this),\n      }\n    }\n\n    getFieldValidatorContext() {\n      return {\n        registerValidator: this.onRegisterValidator.bind(this),\n        unregisterValidator: this.onUnregisterValidator.bind(this),\n      }\n    }\n\n    onRegisterValidator(validator) {\n      this.validators.push(validator)\n    }\n\n    onUnregisterValidator(owner) {\n      _.remove(this.validators, {owner})\n    }\n\n    isValid() {\n      let isValid = true\n      this.validators.forEach(v => {\n        v.owner.validate()\n        isValid = isValid && v.owner.isValid()\n      })\n      return isValid\n    }\n\n    getValidationMessages() {\n      const results = []\n      this.validators.forEach(v => {\n        const message = v.owner.getValidationMessage()\n        if (message) {\n          results.push(message)\n        }\n      })\n\n      return results\n    }\n\n    render() {\n      const newProps = {...this.props, ...this.getValidationFormProps()}\n      return (\n        <ValidatorContext.Provider value={this.getFieldValidatorContext()}>\n          <ComposedComponent {...newProps} />\n        </ValidatorContext.Provider>\n      )\n    }\n  }\n\n  ValidatedComponent.displayName = 'ValidatedComponent'\n\n  return ValidatedComponent\n}\n\nexport default ValidatedComponent\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport ValidationUtils from '../../utils/ValidationUtils'\nimport {ValidatorContext} from './ValidatedComponent'\n\nclass InputValidator extends React.Component {\n  constructor() {\n    super()\n\n    this.validation = {\n      isValid: true,\n      message: '',\n    }\n\n    this.state = {\n      message: '',\n    }\n\n    this.onBlurValidate = this.onBlurValidate.bind(this)\n    this.getRequiredErrorMsg = this.getRequiredErrorMsg.bind(this)\n    this.validate = this.validate.bind(this)\n    this.setValidationState = this.setValidationState.bind(this)\n    this.getValidationMessage = this.getValidationMessage.bind(this)\n    this.isValid = this.isValid.bind(this)\n  }\n\n  getInput(props) {\n    const {children} = typeof props === 'undefined' ? this.props : props\n    return children && !children.length ? children : null\n  }\n\n  componentDidMount() {\n    const {registerValidator} = this.props\n\n    if (registerValidator) {\n      registerValidator({\n        owner: this,\n        message: this.props.message,\n        validate: this.validate,\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    const {unregisterValidator} = this.props\n    if (unregisterValidator) {\n      unregisterValidator(this)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {shouldValidateOnValueChange} = this.props\n    if (shouldValidateOnValueChange) {\n      const prevValue = this.getInput(prevProps).props.value\n      const currentValue = this.getInput().props.value\n      if (prevValue !== currentValue) {\n        this.validate()\n      }\n    }\n  }\n\n  setValidationState(message) {\n    const state = {message, isValid: !message}\n    this.validation = state\n    this.setState(state)\n  }\n\n  getValidationMessage() {\n    return _.cloneDeep(this.validation.message)\n  }\n\n  isValid() {\n    return this.validation.isValid\n  }\n\n  validate() {\n    const {children, fieldName, required, onValidated, customValidation} = this.props\n    const input = this.getInput()\n    let message\n\n    if (input) {\n      const {value, type, required} = input.props\n\n      if (required && !value && value !== 0 && value !== false) {\n        message = this.getRequiredErrorMsg()\n      } else if (type === 'email') {\n        message = ValidationUtils.checkEmail(value)\n      } else if (type === 'url') {\n        message = ValidationUtils.checkUrl(value)\n      } else if (type === 'number') {\n        const {min, max} = input.props\n        if (min && Number(value) < Number(min)) {\n          message = (fieldName || 'This field') + ' is less than ' + min\n        }\n        if (max && Number(value) > Number(max)) {\n          message = (fieldName || 'This field') + ' is greater than ' + max\n        }\n      }\n    }\n\n    if (required && !children.props.value) {\n      message = this.getRequiredErrorMsg()\n    }\n\n    if (!message && customValidation) {\n      message = customValidation()\n    }\n\n    this.setValidationState(message)\n\n    if (onValidated) {\n      onValidated()\n    }\n  }\n\n  getRequiredErrorMsg() {\n    return (this.props.fieldName || 'This field') + ' is required'\n  }\n\n  onBlurValidate() {\n    this.validate()\n\n    const {onBlurValidators} = this.props\n    if (!_.isEmpty(onBlurValidators)) {\n      onBlurValidators.forEach(validatorCmp => validatorCmp.validate && validatorCmp.validate())\n    }\n  }\n\n  render() {\n    const {props, state} = this\n    const isChildInput = !!this.getInput()\n\n    const children =\n      isChildInput && props.shouldValidateOnBlur\n        ? React.Children.map(props.children, child => {\n            return React.cloneElement(child, {\n              onBlur: this.onBlurValidate,\n            })\n          })\n        : props.children\n\n    const isValid = !(this.getErrorFromProps() || state.message)\n\n    return (\n      <div className={`validation ${this.props.className} ${this.state.inputState}`}>\n        {children}\n        {!isValid && (<div ref=\"msg\" className=\"validation-msg\">\n          {this.getErrorFromProps() || state.message}\n        </div>)}\n      </div>\n    )\n  }\n\n  getErrorFromProps() {\n    const {errors} = this.props\n\n    if (errors) {\n      if (Array.isArray(errors)) {\n        return errors.join(', ')\n      }\n\n      return errors.toString()\n    }\n  }\n}\n\nInputValidator.displayName = 'InputValidator'\n\nInputValidator.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  errors: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  customValidation: PropTypes.func,\n  onValidated: PropTypes.func,\n  fieldName: PropTypes.string,\n  fullWidth: PropTypes.bool,\n  shouldValidateOnBlur: PropTypes.bool,\n  shouldValidateOnValueChange: PropTypes.bool,\n  onBlurValidators: PropTypes.array,\n}\n\nInputValidator.defaultProps = {\n  fullWidth: true,\n  shouldValidateOnBlur: false,\n  shouldValidateOnValueChange: false,\n}\n\nInputValidator.contextTypes = {\n  registerValidator: PropTypes.func,\n  unregisterValidator: PropTypes.func,\n}\n\nexport {InputValidator as InputValidatorCmp}\n\nexport default props => (\n  <ValidatorContext.Consumer>\n    {({registerValidator, unregisterValidator}) => {\n      const {forwardRef} = props\n      const contextProps = {\n        registerValidator,\n        unregisterValidator,\n      }\n\n      if (forwardRef) {\n        contextProps.ref = forwardRef\n      }\n      return <InputValidator {...props} {...contextProps} />\n    }}\n  </ValidatorContext.Consumer>\n)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withRouter} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport InputValidator from '../components/validation/InputValidator.jsx';\nimport ValidatedComponent from '../components/validation/ValidatedComponent.jsx';\nimport * as Actions from '../redux/actions/AuthActions';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      canSubmit: false\n    };\n\n    this.popup = null;\n\n    this.changeUser = this.changeUser.bind(this);\n    this.changePassword = this.changePassword.bind(this);\n    this.login = this.login.bind(this);\n    this.redirectIfAuthed = this.redirectIfAuthed.bind(this);\n  }\n\n  login(e) {\n    e.preventDefault();\n\n    if (this.props.isComponentValid()) {\n      this.props.login(this.state.username, this.state.password);\n    }\n  }\n\n  componentDidMount() {\n    this.redirectIfAuthed(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.redirectIfAuthed(nextProps);\n  }\n\n  redirectIfAuthed(props) {\n    var {token, match, history} = props;\n    if (token) {\n      if (match.params.redirectTo) {\n        history.push(match.params.redirectTo);\n      }\n      else {\n        history.push('/');\n      }\n    }\n  }\n\n  render() {\n    var {username, password, canSubmit} = this.state;\n    var {errors} = this.props;\n\n    return (\n      <div className=\"ba-login row\">\n        <form noValidate>\n          <div className=\"panel small-12 small-centered columns\">\n            <div className=\"row panel-title\">\n              <h3>Log In</h3>\n            </div>\n            <div className=\"row\">\n              <InputValidator fieldName=\"User name\"\n                              errors={errors.username}\n                              shouldValidateOnBlur={true}>\n                <input type=\"text\"\n                       placeholder=\"User name*\"\n                       required\n                       value={username}\n                       onChange={this.changeUser}/>\n              </InputValidator>\n            </div>\n            <div className=\"row\">\n              <InputValidator fieldName=\"Password\"\n                              errors={errors.password}\n                              shouldValidateOnBlur={true}>\n                <input type=\"password\"\n                       name=\"password\"\n                       placeholder=\"Password*\"\n                       required\n                       value={password}\n                       onChange={this.changePassword}/>\n              </InputValidator>\n            </div>\n            <div className=\"row text-center\">\n              <button className=\"btn\"\n                      type=\"submit\"\n                      name=\"submit-login\"\n                      onClick={this.login}\n                      disabled={!canSubmit}>\n                Submit\n              </button>\n            </div>\n            <div className=\"row text-center\">\n              <Link to=\"/signup\">Create an account</Link>\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n  changeUser(event) {\n    var canSubmit = this.state.password && event.target.value;\n    this.setState({\n      username: event.target.value,\n      canSubmit: canSubmit\n    });\n  }\n\n  changePassword(event) {\n    var canSubmit = this.state.username && event.target.value;\n    this.setState({\n      password: event.target.value,\n      canSubmit: canSubmit\n    });\n  }\n}\n\nLogin.displayName = 'Login';\n\nLogin.propTypes = {\n  query: PropTypes.object\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(Actions, dispatch);\n}\n\nfunction mapStateToProps(state) {\n  return {...state.auth};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ValidatedComponent(withRouter(Login)));\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport validatedComponent from '../components/validation/ValidatedComponent.jsx';\nimport InputValidator from '../components/validation/InputValidator.jsx';\nimport * as Actions from '../redux/actions/ProfileActions';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nclass Signup extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      username: '',\n      password: '',\n      confirmPassword: ''\n    };\n\n    this.createUser = this.createUser.bind(this);\n    this.validateConfirmPassword = this.validateConfirmPassword.bind(this);\n  }\n\n  componentDidMount() {\n    this.redirectIfAuthed(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.redirectIfAuthed(nextProps);\n  }\n\n  redirectIfAuthed(props) {\n    var {match, history, auth} = props;\n    if (auth.token) {\n      if (match.params.redirectTo) {\n        history.push(match.params.redirectTo);\n      }\n      else {\n        history.push('/');\n      }\n    }\n  }\n\n  createUser(event) {\n    event.preventDefault();\n    var {username, password} = this.state;\n\n    if (this.props.isComponentValid()) {\n      this.props.createProfile({username, password});\n    }\n  }\n\n  onChange(fieldName, e) {\n    this.setState({[fieldName]: e.target.value});\n  }\n\n  validateConfirmPassword() {\n    var {password, confirmPassword} = this.state;\n    if (password !== confirmPassword) {\n      return 'Both passwords must be equal';\n    }\n  }\n\n  render() {\n    var {state} = this;\n    var {errors} = this.props;\n    return (\n      <div className=\"ba-signup row\">\n        <form noValidate>\n          <div className=\"panel small-12 small-centered columns\">\n            <div className=\"row panel-title\">\n              <h3>Create an Account</h3>\n            </div>\n            <div className=\"row\">\n              <InputValidator fieldName=\"User name\"\n                              errors={errors.username}\n                              shouldValidateOnBlur={true}>\n              <input type=\"text\"\n                     name=\"name\"\n                     required\n                     placeholder=\"User name*\"\n                     value={state.username}\n                     onChange={this.onChange.bind(this, 'username')}/>\n              </InputValidator>\n            </div>\n            <div className=\"row\">\n              <input type=\"password\"\n                     name=\"password\"\n                     placeholder=\"Password*\"\n                     required\n                     onChange={this.onChange.bind(this, 'password')}\n                     value={state.password}/>\n            </div>\n            <div className=\"row\">\n              <InputValidator fieldName=\"Password\"\n                              errors={errors.password}\n                              shouldValidateOnBlur={true}\n                              customValidation={() => {return this.validateConfirmPassword();}}>\n              <input type=\"password\"\n                     name=\"password-confirm\"\n                     placeholder=\"Confirm Password*\"\n                     required\n                     onChange={this.onChange.bind(this, 'confirmPassword')}\n                     value={state.confirmPassword}/>\n              </InputValidator>\n            </div>\n            <div className=\"row text-center\">\n              <button type=\"button\"\n                      name=\"btn-create\"\n                      className=\"ba-default-button\"\n                      onClick={this.createUser}>\n                Create Account\n              </button>\n            </div>\n          </div>\n        </form>\n        <div className=\"push\"/>\n      </div>\n    );\n  }\n}\n\nSignup.displayName = 'Signup';\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(Actions, dispatch);\n}\n\nfunction mapStateToProps(state) {\n  return {...state.signup,  auth: {...state.auth}};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(validatedComponent(withRouter(Signup)));\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {createProfileInit} from '../redux/actions/ProfileActions';\nimport {connect} from 'react-redux';\n\nclass SignupStatus extends React.Component {\n  componentWillMount() {\n    var {profile} = this.props;\n\n    if (!profile) {\n      this.context.router.replace('/signup');\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.dispatch(createProfileInit());\n  }\n\n  render() {\n    var {profile} = this.props;\n\n    return (\n      <div className=\"ba-signup-status\">\n        {profile ?\n          <div className=\"row\">\n            <div className=\"small-12 medium-10 medium-offset-1 columns\">\n              <div className=\"row\">\n                <h3>Congratulations!</h3>\n              </div>\n              <div className=\"row\">\n                {profile.name ?\n                  <div>\n                    <span className=\"ba-signup-status-name\">{profile.name}</span>,\n                  </div>\n                  : null }\n                <p>You have successfully created an account.</p>\n                <div>\n                  <Link to=\"/\" className=\"button ba-default-btn\">Homepage</Link>\n                </div>\n              </div>\n            </div>\n          </div> : null }\n        <div className=\"push\"/>\n      </div>\n    );\n  }\n}\n\nSignupStatus.displayName = 'SignupStatus';\nSignupStatus.contextTypes = {\n  router: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    profile: _.get(state.signup, 'savedProfile')\n  };\n}\n\nexport default connect(mapStateToProps)(SignupStatus);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport {connect} from 'react-redux';\n\n/**\n * Higher ordered component for pages requiring authentication.\n */\nvar AuthenticatedPage = (PageComponent) => {\n\n  class AuthenticatedPage extends React.Component {\n\n    constructor() {\n      super();\n\n      this.redirectOnLogout = this.redirectOnLogout.bind(this);\n    }\n\n    componentWillMount() {\n      var {auth, location, history} = this.props;\n\n      if (!auth.token) {\n        var query = {redirectTo: (location.pathname + location.search)};\n        history.push({pathname: '/login', query});\n      }\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.redirectOnLogout(nextProps);\n    }\n\n    redirectOnLogout(props) {\n      var {auth, location, history} = props;\n\n      if (!auth.token && location.pathname !== '/login') {\n        history.push('/login');\n      }\n    }\n\n    render() {\n      var {auth} = this.props;\n      if (!auth.token) {\n        return null;\n      }\n\n      return (<PageComponent ref=\"page\" {...this.props}/>);\n    }\n  }\n\n  AuthenticatedPage.displayName = 'AuthenticatedPage';\n  AuthenticatedPage.contextTypes = {\n    router: PropTypes.object.isRequired\n  };\n\n  function mapStateToProps(state) {\n    return {\n      auth: state.auth\n    };\n  }\n\n  // Wrap the component to inject dispatch and state into it\n  return connect(mapStateToProps)(withRouter(AuthenticatedPage));\n};\n\nexport default AuthenticatedPage;\n\n","import React from 'react';\nimport AuthenticatedPage from './AuthenticatedPage.jsx';\nimport {Link} from 'react-router-dom';\nimport UserRating from '../components/UserRating.jsx';\nimport Carousel from '../components/Carousel.jsx';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport _ from 'lodash';\nimport * as ProfileActions from '../redux/actions/ProfileActions';\n\nclass Profile extends React.Component {\n  componentDidMount() {\n    this.props.getProfileRatings();\n    this.props.getProfileRecommendations();\n  }\n\n  render() {\n    var {profile, ratedMovies, recommendedMovies} = this.props.profile;\n    var {profileRateMovie, profileDeleteMovieRating} = this.props;\n\n    if (!profile) {\n      return null;\n    }\n\n    return (\n      <div className=\"nt-profile\">\n        {/*isFetching ? <Loading/> : null*/}\n        <div className=\"row\">\n          <div className=\"small-12 columns\">\n            <div className=\"nt-box\">\n              <div className=\"nt-box-title\">\n                My Profile\n              </div>\n              <div className=\"nt-box-row\">\n                <div className=\"row\">\n                  <div className=\"small-12 medium-2 large-2 columns\">\n                    <div className=\"nt-profile-gravatar\">\n                      <img src={_.get(profile, 'avatar.fullSize')} alt=\"\" />\n                    </div>\n                  </div>\n                  <div className=\"small-12 medium-10 large-10 columns\">\n                    <div className=\"nt-profile-first-name\">\n                      User Name: {profile.username}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"small-12 columns\">\n            <div className=\"nt-box\">\n              <div className=\"nt-box-title\">\n                My rated movies\n              </div>\n              {!_.isEmpty(ratedMovies) ?\n                <Carousel>\n                  {ratedMovies.map((movie, i, array) => {\n                    return (\n                      <div key={movie.id}>\n                        <Link to={`/movie/${movie.id}`}>\n                          <img src={movie.posterImage} className=\"nt-profile-movie-cover\" alt=\"\"/>\n                        </Link>\n                        <div className=\"nt-profile-movie-title\">\n                          <Link to={`/movie/${movie.id}`}>\n                            {movie.title}\n                          </Link>\n                        </div>\n                        <div>\n                          <UserRating movieId={movie.id}\n                                      savedRating={movie.myRating}\n                                      onSubmitRating={profileRateMovie}\n                                      onDeleteRating={profileDeleteMovieRating}/>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </Carousel>\n                :\n                null\n              }\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"small-12 columns\">\n            <div className=\"nt-box\">\n              <div className=\"nt-box-title\">\n                Recommended for me\n              </div>\n              {\n                !_.isEmpty(recommendedMovies) ?\n                  <Carousel>\n                    {recommendedMovies.map(m => {\n                      return (\n                        <div key={m.id}>\n                          <Link to={`/movie/${m.id}`}>\n                            <img src={m.posterImage} alt=\"\" />\n                          </Link>\n                          <div className=\"nt-carousel-movie-title\">\n                            <Link to={`/movie/${m.id}`}>{m.title}</Link>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </Carousel>\n                  :\n                  null\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    profile: _.get(state, 'profile'),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(ProfileActions, dispatch);\n}\n\nProfile.displayName = 'Profile';\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthenticatedPage(Profile));\n","import React from 'react';\nimport {Route} from 'react-router';\nimport App from '../pages/App.jsx';\nimport Home from '../pages/Home.jsx';\nimport Movie from '../pages/Movie.jsx';\nimport Person from '../pages/Person.jsx';\nimport Login from '../pages/Login.jsx';\nimport Signup from '../pages/Signup.jsx';\nimport SignupStatus from '../pages/SignupStatus.jsx';\nimport Profile from '../pages/Profile.jsx';\n\nexport default class Routes extends React.Component {\n  render() {\n    return (\n      <App>\n        <Route exact path=\"/\" component={Home}/>\n        <Route path=\"/movie/:id\" component={Movie}/>\n        <Route path=\"/person/:id\" component={Person}/>\n        <Route path=\"/login\" component={Login}/>\n        <Route path=\"/signup\" component={Signup}/>\n        <Route path=\"/signup-status\" component={SignupStatus}/>\n        <Route path=\"/profile\" component={Profile}/>\n      </App>\n    );\n  }\n}\n\nRoutes.displayName = 'Routes';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport { createLogger } from 'redux-logger';\nimport createSagaMiddleware from 'redux-saga';\nimport { ConnectedRouter, routerMiddleware } from 'connected-react-router';\nimport { createBrowserHistory } from \"history\";\n\nimport sagas from './redux/sagas';\nimport createRootReducer from './redux/reducers';\nimport Routes from './routes/Routes.jsx';\n\nconst reduxLoggerMiddleware = createLogger();\nconst sagaMiddleware = createSagaMiddleware();\nconst history = createBrowserHistory();\n\nconst store = createStore(\n\tcreateRootReducer(history),\n\tapplyMiddleware(\n\t\trouterMiddleware(history),\n\t\tthunkMiddleware,\n\t\tsagaMiddleware,\n\t\treduxLoggerMiddleware,\n\t),\n)\n\nsagaMiddleware.run(sagas);\n\nReactDOM.render(\n  <Provider store={store}>\n\t\t<ConnectedRouter history={history}>\n\t\t\t<Routes />\n\t\t</ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}